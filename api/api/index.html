
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Python Reactive State Management Library">
      
      
      
        <link rel="canonical" href="https://off-by-some.github.io/fynx/api/api/">
      
      
        <link rel="prev" href="../..">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>API Reference - FynX</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#fynx" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="FynX" class="md-header__button md-logo" aria-label="FynX" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            FynX
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              API Reference
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="FynX" class="md-nav__button md-logo" aria-label="FynX" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    FynX
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

      </a>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<p><a id="fynx"></a></p>
<h1 id="fynx">fynx<a class="headerlink" href="#fynx" title="Permanent link">&para;</a></h1>
<h1 id="fynx-python-reactive-state-management-library">FynX - Python Reactive State Management Library<a class="headerlink" href="#fynx-python-reactive-state-management-library" title="Permanent link">&para;</a></h1>
<p>FynX is a lightweight, transparent reactive state management library for Python,
inspired by MobX. It enables reactive programming patterns where state changes
automatically propagate through your application, eliminating the need for manual
state synchronization.</p>
<h2 id="core-concepts">Core Concepts<a class="headerlink" href="#core-concepts" title="Permanent link">&para;</a></h2>
<p><strong>Observables</strong>: Values that can be watched for changes. When an observable value
changes, all dependent computations and reactions automatically update.</p>
<p><strong>Computed Values</strong>: Derived values that automatically recalculate when their
dependencies change, with built-in memoization for performance.</p>
<p><strong>Reactions</strong>: Functions that run automatically when their observed dependencies
change, enabling side effects like UI updates or API calls.</p>
<p><strong>Stores</strong>: Classes that group related observables together with convenient
subscription and state management methods.</p>
<h2 id="key-features">Key Features<a class="headerlink" href="#key-features" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Transparent Reactivity</strong>: No special syntax needed - just use regular Python objects</li>
<li><strong>Automatic Dependency Tracking</strong>: Observables automatically track what depends on them</li>
<li><strong>Lazy Evaluation</strong>: Computed values only recalculate when needed</li>
<li><strong>Type Safety</strong>: Full type hint support for better IDE experience and static analysis</li>
<li><strong>Memory Efficient</strong>: Automatic cleanup of unused reactive contexts</li>
<li><strong>Composable</strong>: Easy to combine and nest reactive components</li>
</ul>
<h2 id="quick-example">Quick Example<a class="headerlink" href="#quick-example" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">fynx</span><span class="w"> </span><span class="kn">import</span> <span class="n">Store</span><span class="p">,</span> <span class="n">observable</span><span class="p">,</span> <span class="n">computed</span><span class="p">,</span> <span class="n">reactive</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="c1"># Create a reactive store</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="k">class</span><span class="w"> </span><span class="nc">UserStore</span><span class="p">(</span><span class="n">Store</span><span class="p">):</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n">name</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="s2">&quot;Alice&quot;</span><span class="p">)</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="n">age</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="nd">@computed</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">greeting</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Hello, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">! You are </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">age</span><span class="si">}</span><span class="s2"> years old.&quot;</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="c1"># React to changes</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="nd">@reactive</span><span class="p">(</span><span class="n">UserStore</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">UserStore</span><span class="o">.</span><span class="n">age</span><span class="p">)</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="k">def</span><span class="w"> </span><span class="nf">on_user_change</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">):</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;User updated: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">age</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="c1"># Changes trigger reactions automatically</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="n">UserStore</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Bob&quot;</span>  <span class="c1"># Prints: User updated: Bob, 30</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="n">UserStore</span><span class="o">.</span><span class="n">age</span> <span class="o">=</span> <span class="mi">31</span>      <span class="c1"># Prints: User updated: Bob, 31</span>
</code></pre></div>
<p>For more examples and detailed documentation, see the README.md file.</p>
<p><a id="fynx.observable"></a></p>
<h1 id="fynxobservable">fynx.observable<a class="headerlink" href="#fynxobservable" title="Permanent link">&para;</a></h1>
<h1 id="fynx-observable-module-core-reactive-classes">FynX Observable Module - Core Reactive Classes<a class="headerlink" href="#fynx-observable-module-core-reactive-classes" title="Permanent link">&para;</a></h1>
<p>This module contains the fundamental building blocks of FynX's reactive programming
system. It provides classes and utilities for creating observable values, managing
reactive dependencies, and composing complex reactive behaviors.</p>
<h2 id="understanding-observables">Understanding Observables<a class="headerlink" href="#understanding-observables" title="Permanent link">&para;</a></h2>
<p>At its core, an observable is a value that can notify others when it changes. Unlike
regular variables, observables automatically track what depends on them and update
those dependencies when their value changes.</p>
<p>The reactive programming paradigm in FynX enables automatic propagation of state
changes through your application, eliminating the need for manual synchronization
of dependent values and side effects.</p>
<h2 id="core-classes">Core Classes<a class="headerlink" href="#core-classes" title="Permanent link">&para;</a></h2>
<p><strong>Observable</strong>: The foundation of reactivity - a value that automatically notifies
subscribers when it changes. Observables behave like regular values but provide
reactive capabilities.</p>
<p><strong>ReactiveContext</strong>: Manages the execution context for reactive functions, handling
automatic dependency tracking and coordinating updates when dependencies change.</p>
<p><strong>MergedObservable</strong>: Combines multiple observables into a single reactive unit using
the <code>|</code> operator. Useful for coordinating related values and passing them as a group
to computed functions.</p>
<p><strong>ConditionalObservable</strong>: Filters reactive streams based on boolean conditions using
the <code>&amp;</code> operator. Only emits values when all specified conditions are met.</p>
<p><strong>ComputedObservable</strong>: A read-only observable that derives its value from other
observables. Computed values automatically recalculate when their dependencies change.</p>
<p><strong>ObservableValue</strong>: A transparent wrapper that makes reactive attributes behave like
regular values while providing access to observable methods.</p>
<p><strong>SubscriptableDescriptor</strong>: Descriptor class for creating observable attributes in
Store classes and other contexts where class-level observables are needed.</p>
<h2 id="reactive-operators">Reactive Operators<a class="headerlink" href="#reactive-operators" title="Permanent link">&para;</a></h2>
<p>FynX provides intuitive operators for composing reactive behaviors:</p>
<p><strong>Merge (<code>|</code>)</strong>: Combines observables into tuples for coordinated updates:
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">point</span> <span class="o">=</span> <span class="n">x</span> <span class="o">|</span> <span class="n">y</span>  <span class="c1"># Creates (x.value, y.value) that updates when either changes</span>
</code></pre></div></p>
<p><strong>Transform (<code>&gt;&gt;</code>)</strong>: Applies functions to create computed values:
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">doubled</span> <span class="o">=</span> <span class="n">counter</span> <span class="o">&gt;&gt;</span> <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># Computed value</span>
</code></pre></div></p>
<p><strong>Filter (<code>&amp;</code>)</strong>: Creates conditional observables that only emit when conditions are met:
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">valid_data</span> <span class="o">=</span> <span class="n">data</span> <span class="o">&amp;</span> <span class="n">is_valid</span>  <span class="c1"># Only emits when is_valid is True</span>
</code></pre></div></p>
<p><strong>Negate (<code>~</code>)</strong>: Creates boolean observables with inverted logic:
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">is_not_loading</span> <span class="o">=</span> <span class="o">~</span><span class="n">is_loading</span>  <span class="c1"># True when is_loading is False</span>
</code></pre></div></p>
<h2 id="key-concepts">Key Concepts<a class="headerlink" href="#key-concepts" title="Permanent link">&para;</a></h2>
<p><strong>Dependency Tracking</strong>: Observables automatically track which reactive contexts
depend on them during execution, enabling precise and efficient updates.</p>
<p><strong>Transparent Behavior</strong>: Reactive classes behave like their underlying values in
most contexts, making them easy to integrate into existing code.</p>
<p><strong>Lazy Evaluation</strong>: Computed values only recalculate when accessed and dependencies
have changed, improving performance.</p>
<p><strong>Automatic Cleanup</strong>: Reactive contexts are automatically cleaned up when no longer
needed, preventing memory leaks.</p>
<p><strong>Type Safety</strong>: Full generic type support ensures type-safe reactive programming
with excellent IDE support and static analysis.</p>
<p><strong>Circular Dependency Detection</strong>: FynX automatically detects and prevents circular
dependencies at runtime.</p>
<h2 id="practical-examples">Practical Examples<a class="headerlink" href="#practical-examples" title="Permanent link">&para;</a></h2>
<h3 id="basic-observable-usage">Basic Observable Usage<a class="headerlink" href="#basic-observable-usage" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">fynx.observable</span><span class="w"> </span><span class="kn">import</span> <span class="n">Observable</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="c1"># Create an observable value</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="n">counter</span> <span class="o">=</span> <span class="n">Observable</span><span class="p">(</span><span class="s2">&quot;counter&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="nb">print</span><span class="p">(</span><span class="n">counter</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>  <span class="c1"># 0</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="c1"># Subscribe to changes</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="k">def</span><span class="w"> </span><span class="nf">on_change</span><span class="p">():</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Counter changed to: </span><span class="si">{</span><span class="n">counter</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="n">counter</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">on_change</span><span class="p">)</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="n">counter</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>  <span class="c1"># Prints: &quot;Counter changed to: 5&quot;</span>
</code></pre></div>
<h3 id="merging-observables">Merging Observables<a class="headerlink" href="#merging-observables" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1"># Create multiple observables</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="n">width</span> <span class="o">=</span> <span class="n">Observable</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="n">height</span> <span class="o">=</span> <span class="n">Observable</span><span class="p">(</span><span class="s2">&quot;height&quot;</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="c1"># Merge them into a single reactive unit</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="n">dimensions</span> <span class="o">=</span> <span class="n">width</span> <span class="o">|</span> <span class="n">height</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="nb">print</span><span class="p">(</span><span class="n">dimensions</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>  <span class="c1"># (10, 20)</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="c1"># Changes to either update the merged observable</span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="n">width</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="nb">print</span><span class="p">(</span><span class="n">dimensions</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>  <span class="c1"># (15, 20)</span>
</code></pre></div>
<h3 id="conditional-observables">Conditional Observables<a class="headerlink" href="#conditional-observables" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="n">temperature</span> <span class="o">=</span> <span class="n">Observable</span><span class="p">(</span><span class="s2">&quot;temp&quot;</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="n">is_heating_on</span> <span class="o">=</span> <span class="n">Observable</span><span class="p">(</span><span class="s2">&quot;heating&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="c1"># Only emit temperature when heating is on</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="n">heating_temp</span> <span class="o">=</span> <span class="n">temperature</span> <span class="o">&amp;</span> <span class="n">is_heating_on</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="k">def</span><span class="w"> </span><span class="nf">activate_heating</span><span class="p">(</span><span class="n">temp</span><span class="p">):</span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Maintaining temperature at </span><span class="si">{</span><span class="n">temp</span><span class="si">}</span><span class="s2">°C&quot;</span><span class="p">)</span>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="n">heating_temp</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">activate_heating</span><span class="p">)</span>
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="n">temperature</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">22</span><span class="p">)</span>     <span class="c1"># No output (heating is off)</span>
<a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a><span class="n">is_heating_on</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># Prints: &quot;Maintaining temperature at 22°C&quot;</span>
<a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="n">temperature</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span>     <span class="c1"># Prints: &quot;Maintaining temperature at 25°C&quot;</span>
</code></pre></div>
<h3 id="computed-values">Computed Values<a class="headerlink" href="#computed-values" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">fynx.computed</span><span class="w"> </span><span class="kn">import</span> <span class="n">computed</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="c1"># Create computed observables</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="n">area</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span><span class="k">lambda</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">:</span> <span class="n">w</span> <span class="o">*</span> <span class="n">h</span><span class="p">,</span> <span class="n">dimensions</span><span class="p">)</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="nb">print</span><span class="p">(</span><span class="n">area</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>  <span class="c1"># 300</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="n">width</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="nb">print</span><span class="p">(</span><span class="n">area</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>  <span class="c1"># 400 (automatically recalculated)</span>
</code></pre></div>
<h2 id="performance-considerations">Performance Considerations<a class="headerlink" href="#performance-considerations" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Lazy Evaluation</strong>: Computed values only recalculate when accessed</li>
<li><strong>Dependency Tracking</strong>: Only tracks actual dependencies, not speculative ones</li>
<li><strong>Memory Management</strong>: Automatic cleanup of unused reactive contexts</li>
<li><strong>Efficient Updates</strong>: Only notifies observers when values actually change</li>
</ul>
<h2 id="common-patterns">Common Patterns<a class="headerlink" href="#common-patterns" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>State Synchronization</strong>: Use observables to keep UI and data in sync</li>
<li><strong>Derived State</strong>: Use computed values for calculated properties</li>
<li><strong>Event Filtering</strong>: Use conditional observables for selective reactivity</li>
<li><strong>Data Composition</strong>: Use merged observables for related value coordination</li>
</ul>
<h2 id="see-also">See Also<a class="headerlink" href="#see-also" title="Permanent link">&para;</a></h2>
<ul>
<li><code>fynx.computed</code>: For creating derived values from observables</li>
<li><code>fynx.store</code>: For grouping observables into reactive state containers</li>
<li><code>fynx.watch</code>: For conditional reactive functions</li>
<li><code>fynx.reactive</code>: For reactive decorators and subscriptions</li>
</ul>
<p><a id="fynx.computed"></a></p>
<h1 id="fynxcomputed">fynx.computed<a class="headerlink" href="#fynxcomputed" title="Permanent link">&para;</a></h1>
<h1 id="fynx-computed-computed-observable-utilities">FynX Computed - Computed Observable Utilities<a class="headerlink" href="#fynx-computed-computed-observable-utilities" title="Permanent link">&para;</a></h1>
<p>This module provides the <code>computed</code> function for creating derived observables
whose values are automatically calculated from other observables. Computed values
enable you to create reactive properties that depend on other reactive values,
automatically updating whenever their dependencies change.</p>
<h2 id="what-are-computed-values">What are Computed Values?<a class="headerlink" href="#what-are-computed-values" title="Permanent link">&para;</a></h2>
<p>Computed values are read-only observables that derive their value from other observables.
They automatically recalculate when their dependencies change, providing a way to create
derived state without manual synchronization.</p>
<p>Computed values are essential for:
- <strong>Derived State</strong>: Properties that depend on other properties
- <strong>Data Transformation</strong>: Converting or formatting data reactively
- <strong>Business Logic</strong>: Calculated values based on raw data
- <strong>Performance</strong>: Avoiding redundant computations through memoization</p>
<h2 id="key-characteristics">Key Characteristics<a class="headerlink" href="#key-characteristics" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Read-only</strong>: Computed values cannot be set directly</li>
<li><strong>Lazy Evaluation</strong>: Only recalculate when accessed and dependencies changed</li>
<li><strong>Automatic Dependencies</strong>: Framework tracks what observables are accessed</li>
<li><strong>Pure Functions</strong>: Computation functions should be pure (no side effects)</li>
<li><strong>Memoization</strong>: Results are cached until dependencies change</li>
</ul>
<h2 id="basic-usage">Basic Usage<a class="headerlink" href="#basic-usage" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">fynx</span><span class="w"> </span><span class="kn">import</span> <span class="n">observable</span><span class="p">,</span> <span class="n">computed</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="c1"># Create base observables</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="n">price</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="mf">10.0</span><span class="p">)</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="n">quantity</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="c1"># Create computed value</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="n">total</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span><span class="k">lambda</span> <span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">:</span> <span class="n">p</span> <span class="o">*</span> <span class="n">q</span><span class="p">,</span> <span class="n">price</span> <span class="o">|</span> <span class="n">quantity</span><span class="p">)</span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="nb">print</span><span class="p">(</span><span class="n">total</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>  <span class="c1"># 50.0</span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="c1"># Changes propagate automatically</span>
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="n">price</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">12.0</span><span class="p">)</span>
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="nb">print</span><span class="p">(</span><span class="n">total</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>  <span class="c1"># 60.0 (automatically recalculated)</span>
</code></pre></div>
<h2 id="advanced-patterns">Advanced Patterns<a class="headerlink" href="#advanced-patterns" title="Permanent link">&para;</a></h2>
<h3 id="single-observable-computations">Single Observable Computations<a class="headerlink" href="#single-observable-computations" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="n">counter</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="n">doubled</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="n">counter</span><span class="p">)</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="nb">print</span><span class="p">(</span><span class="n">doubled</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>  <span class="c1"># 10</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="n">counter</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="nb">print</span><span class="p">(</span><span class="n">doubled</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>  <span class="c1"># 14</span>
</code></pre></div>
<h3 id="complex-computations">Complex Computations<a class="headerlink" href="#complex-computations" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1"># Multiple observables</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="n">width</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="n">height</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="n">depth</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="c1"># Computed volume</span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="n">volume</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span><span class="k">lambda</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">d</span><span class="p">:</span> <span class="n">w</span> <span class="o">*</span> <span class="n">h</span> <span class="o">*</span> <span class="n">d</span><span class="p">,</span> <span class="n">width</span> <span class="o">|</span> <span class="n">height</span> <span class="o">|</span> <span class="n">depth</span><span class="p">)</span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="nb">print</span><span class="p">(</span><span class="n">volume</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>  <span class="c1"># 1000</span>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="c1"># Computed surface area</span>
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="n">surface_area</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span>
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a>    <span class="k">lambda</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">d</span><span class="p">:</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">w</span><span class="o">*</span><span class="n">h</span> <span class="o">+</span> <span class="n">h</span><span class="o">*</span><span class="n">d</span> <span class="o">+</span> <span class="n">d</span><span class="o">*</span><span class="n">w</span><span class="p">),</span>
<a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a>    <span class="n">width</span> <span class="o">|</span> <span class="n">height</span> <span class="o">|</span> <span class="n">depth</span>
<a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a><span class="p">)</span>
<a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a><span class="nb">print</span><span class="p">(</span><span class="n">surface_area</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>  <span class="c1"># 400</span>
</code></pre></div>
<h3 id="chaining-computations">Chaining Computations<a class="headerlink" href="#chaining-computations" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="n">base_price</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="n">tax_rate</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="mf">0.08</span><span class="p">)</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="c1"># First computation</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="n">subtotal</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span><span class="k">lambda</span> <span class="n">price</span><span class="p">:</span> <span class="n">price</span> <span class="o">*</span> <span class="mf">1.1</span><span class="p">,</span> <span class="n">base_price</span><span class="p">)</span>  <span class="c1"># 10% markup</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="c1"># Second computation based on first</span>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="n">tax</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span><span class="k">lambda</span> <span class="n">subtotal</span><span class="p">:</span> <span class="n">subtotal</span> <span class="o">*</span> <span class="n">tax_rate</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">subtotal</span><span class="p">)</span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="c1"># Final computation</span>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="n">total</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span><span class="k">lambda</span> <span class="n">subtotal</span><span class="p">:</span> <span class="n">subtotal</span> <span class="o">+</span> <span class="n">tax</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">subtotal</span><span class="p">)</span>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a>
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Base: $</span><span class="si">{</span><span class="n">base_price</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">, Total: $</span><span class="si">{</span><span class="n">total</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="c1"># Base: $100, Total: $118.8</span>
</code></pre></div>
<h3 id="dictionaryobject-computations">Dictionary/Object Computations<a class="headerlink" href="#dictionaryobject-computations" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="n">user</span> <span class="o">=</span> <span class="n">observable</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Alice&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="mi">30</span><span class="p">})</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="c1"># Computed display name</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="n">display_name</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>    <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">u</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">u</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> years old)&quot;</span><span class="p">,</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>    <span class="n">user</span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="p">)</span>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="nb">print</span><span class="p">(</span><span class="n">display_name</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>  <span class="c1"># &quot;Alice (30 years old)&quot;</span>
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="n">user</span><span class="o">.</span><span class="n">set</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="mi">25</span><span class="p">})</span>
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="nb">print</span><span class="p">(</span><span class="n">display_name</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>  <span class="c1"># &quot;Bob (25 years old)&quot;</span>
</code></pre></div>
<h2 id="store-integration">Store Integration<a class="headerlink" href="#store-integration" title="Permanent link">&para;</a></h2>
<p>Computed values work seamlessly with Stores:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">fynx</span><span class="w"> </span><span class="kn">import</span> <span class="n">Store</span><span class="p">,</span> <span class="n">observable</span><span class="p">,</span> <span class="n">computed</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="k">class</span><span class="w"> </span><span class="nc">CartStore</span><span class="p">(</span><span class="n">Store</span><span class="p">):</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>    <span class="n">items</span> <span class="o">=</span> <span class="n">observable</span><span class="p">([</span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Widget&quot;</span><span class="p">,</span> <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Gadget&quot;</span><span class="p">,</span> <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>    <span class="p">])</span>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>    <span class="nd">@computed</span>
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">total_items</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>        <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s2">&quot;quantity&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">)</span>
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a>
<a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a>    <span class="nd">@computed</span>
<a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">total_price</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a>        <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s2">&quot;price&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">item</span><span class="p">[</span><span class="s2">&quot;quantity&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">)</span>
<a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a>
<a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Items: </span><span class="si">{</span><span class="n">CartStore</span><span class="o">.</span><span class="n">total_items</span><span class="si">}</span><span class="s2">, Total: $</span><span class="si">{</span><span class="n">CartStore</span><span class="o">.</span><span class="n">total_price</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a><span class="c1"># Items: 3, Total: $35</span>
<a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a>
<a id="__codelineno-14-20" name="__codelineno-14-20" href="#__codelineno-14-20"></a><span class="c1"># Add new item reactively</span>
<a id="__codelineno-14-21" name="__codelineno-14-21" href="#__codelineno-14-21"></a><span class="n">CartStore</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="n">CartStore</span><span class="o">.</span><span class="n">items</span> <span class="o">+</span> <span class="p">[{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Tool&quot;</span><span class="p">,</span> <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s2">&quot;quantity&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}]</span>
<a id="__codelineno-14-22" name="__codelineno-14-22" href="#__codelineno-14-22"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Items: </span><span class="si">{</span><span class="n">CartStore</span><span class="o">.</span><span class="n">total_items</span><span class="si">}</span><span class="s2">, Total: $</span><span class="si">{</span><span class="n">CartStore</span><span class="o">.</span><span class="n">total_price</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-14-23" name="__codelineno-14-23" href="#__codelineno-14-23"></a><span class="c1"># Items: 4, Total: $55</span>
</code></pre></div>
<h2 id="performance-optimization">Performance Optimization<a class="headerlink" href="#performance-optimization" title="Permanent link">&para;</a></h2>
<p>Computed values include several performance optimizations:</p>
<p><strong>Lazy Evaluation</strong>: Values only recalculate when accessed after dependencies change:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="n">expensive_calc</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">slow_computation</span><span class="p">(),</span> <span class="n">some_obs</span><span class="p">)</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="c1"># slow_computation() only runs when expensive_calc.value is accessed</span>
</code></pre></div>
<p><strong>Dependency Tracking</strong>: Only tracks observables actually accessed during computation:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="n">result</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="n">some_obs</span><span class="o">.</span><span class="n">value</span> <span class="k">if</span> <span class="n">condition</span> <span class="k">else</span> <span class="n">default_value</span><span class="p">,</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>    <span class="n">some_obs</span>  <span class="c1"># Only some_obs is tracked as dependency</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="p">)</span>
</code></pre></div>
<p><strong>Memoization</strong>: Results are cached until dependencies actually change:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="c1"># This computation runs once, then is cached</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="n">memoized</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">expensive_op</span><span class="p">(),</span> <span class="n">obs</span><span class="p">)</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="nb">print</span><span class="p">(</span><span class="n">memoized</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>  <span class="c1"># Runs expensive_op()</span>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="nb">print</span><span class="p">(</span><span class="n">memoized</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>  <span class="c1"># Returns cached result</span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="n">obs</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">new_value</span><span class="p">)</span>     <span class="c1"># Cache invalidated</span>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="nb">print</span><span class="p">(</span><span class="n">memoized</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>  <span class="c1"># Runs expensive_op() again</span>
</code></pre></div>
<h2 id="best-practices">Best Practices<a class="headerlink" href="#best-practices" title="Permanent link">&para;</a></h2>
<h3 id="function-purity">Function Purity<a class="headerlink" href="#function-purity" title="Permanent link">&para;</a></h3>
<p>Computed functions should be pure (no side effects):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="c1"># Good: Pure function</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="n">clean_total</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span><span class="k">lambda</span> <span class="n">items</span><span class="p">:</span> <span class="nb">sum</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">price</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">),</span> <span class="n">items</span><span class="p">)</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="c1"># Bad: Side effects</span>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="n">dirty_total</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>    <span class="k">lambda</span> <span class="n">items</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Calculating...&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">sum</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">price</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">),</span>
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>    <span class="n">items</span>
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="p">)</span>
</code></pre></div>
<h3 id="error-handling">Error Handling<a class="headerlink" href="#error-handling" title="Permanent link">&para;</a></h3>
<p>Handle potential errors gracefully:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="n">safe_division</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>    <span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span> <span class="k">if</span> <span class="n">b</span> <span class="o">!=</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>    <span class="n">num</span> <span class="o">|</span> <span class="n">denom</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="p">)</span>
</code></pre></div>
<h3 id="complex-dependencies">Complex Dependencies<a class="headerlink" href="#complex-dependencies" title="Permanent link">&para;</a></h3>
<p>For complex dependency logic, consider breaking into smaller computations:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="c1"># Instead of one complex computation</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="n">complex_calc</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>    <span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">:</span> <span class="n">expensive_calc</span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">*</span> <span class="n">d</span><span class="p">),</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>    <span class="n">obs_a</span> <span class="o">|</span> <span class="n">obs_b</span> <span class="o">|</span> <span class="n">obs_c</span> <span class="o">|</span> <span class="n">obs_d</span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="p">)</span>
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="c1"># Break into smaller, more efficient computations</span>
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="n">sum_ab</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span><span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">,</span> <span class="n">obs_a</span> <span class="o">|</span> <span class="n">obs_b</span><span class="p">)</span>
<a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="n">prod_cd</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span><span class="k">lambda</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">:</span> <span class="n">c</span> <span class="o">*</span> <span class="n">d</span><span class="p">,</span> <span class="n">obs_c</span> <span class="o">|</span> <span class="n">obs_d</span><span class="p">)</span>
<a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span class="n">final</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span><span class="k">lambda</span> <span class="n">ab</span><span class="p">,</span> <span class="n">cd</span><span class="p">:</span> <span class="n">expensive_calc</span><span class="p">(</span><span class="n">ab</span><span class="p">,</span> <span class="n">cd</span><span class="p">),</span> <span class="n">sum_ab</span> <span class="o">|</span> <span class="n">prod_cd</span><span class="p">)</span>
</code></pre></div>
<h2 id="common-patterns_1">Common Patterns<a class="headerlink" href="#common-patterns_1" title="Permanent link">&para;</a></h2>
<p><strong>Filtering and Transformation</strong>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="n">numbers</span> <span class="o">=</span> <span class="n">observable</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="n">evens</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span><span class="k">lambda</span> <span class="n">nums</span><span class="p">:</span> <span class="p">[</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">nums</span> <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">],</span> <span class="n">numbers</span><span class="p">)</span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="n">sum_even</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span><span class="k">lambda</span> <span class="n">evens</span><span class="p">:</span> <span class="nb">sum</span><span class="p">(</span><span class="n">evens</span><span class="p">),</span> <span class="n">evens</span><span class="p">)</span>
</code></pre></div></p>
<p><strong>Validation</strong>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="n">email</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="s2">&quot;user@example.com&quot;</span><span class="p">)</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="n">is_valid_email</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>    <span class="k">lambda</span> <span class="n">e</span><span class="p">:</span> <span class="s2">&quot;@&quot;</span> <span class="ow">in</span> <span class="n">e</span> <span class="ow">and</span> <span class="s2">&quot;.&quot;</span> <span class="ow">in</span> <span class="n">e</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">],</span>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>    <span class="n">email</span>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="p">)</span>
</code></pre></div></p>
<p><strong>Formatting</strong>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="n">amount</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="mf">1234.56</span><span class="p">)</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="n">formatted</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span><span class="k">lambda</span> <span class="n">a</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;$</span><span class="si">{</span><span class="n">a</span><span class="si">:</span><span class="s2">,.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">amount</span><span class="p">)</span>
</code></pre></div></p>
<p><strong>Conditional Logic</strong>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="n">status</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="s2">&quot;loading&quot;</span><span class="p">)</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="n">is_loading</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span><span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">s</span> <span class="o">==</span> <span class="s2">&quot;loading&quot;</span><span class="p">,</span> <span class="n">status</span><span class="p">)</span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="n">is_error</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span><span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">s</span> <span class="o">==</span> <span class="s2">&quot;error&quot;</span><span class="p">,</span> <span class="n">status</span><span class="p">)</span>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="n">is_success</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span><span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">s</span> <span class="o">==</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span> <span class="n">status</span><span class="p">)</span>
</code></pre></div></p>
<h2 id="limitations">Limitations<a class="headerlink" href="#limitations" title="Permanent link">&para;</a></h2>
<ul>
<li>Computed functions cannot modify observables (would create circular dependencies)</li>
<li>Dependencies must be accessed synchronously during computation</li>
<li>Computed values cannot depend on external state that changes independently</li>
</ul>
<h2 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">&para;</a></h2>
<p><strong>Computation not updating</strong>: Check that all accessed observables are properly passed to computed()</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="c1"># Wrong: external_obs not passed as dependency</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="n">external_obs</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="n">wrong</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">external_obs</span><span class="o">.</span><span class="n">value</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="n">some_obs</span><span class="p">)</span>  <span class="c1"># Won&#39;t track external_obs</span>
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a>
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="c1"># Right: include all dependencies</span>
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="n">right</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">external_obs</span><span class="o">.</span><span class="n">value</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="n">some_obs</span> <span class="o">|</span> <span class="n">external_obs</span><span class="p">)</span>
</code></pre></div>
<p><strong>Performance issues</strong>: Break complex computations into smaller ones to enable better caching</p>
<p><strong>Circular dependencies</strong>: Computed values cannot depend on themselves or create cycles</p>
<h2 id="see-also_1">See Also<a class="headerlink" href="#see-also_1" title="Permanent link">&para;</a></h2>
<ul>
<li><code>fynx.observable</code>: Core observable classes and operators</li>
<li><code>fynx.store</code>: Organizing observables into reactive state containers</li>
<li><code>fynx.watch</code>: Conditional reactive functions</li>
</ul>
<p><a id="fynx.computed.computed"></a></p>
<h4 id="computed">computed<a class="headerlink" href="#computed" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">computed</span><span class="p">(</span><span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">observable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ComputedObservable</span>
</code></pre></div>
<p>Create a computed observable that derives its value from other observables.</p>
<p>The <code>computed</code> function creates a new observable whose value is automatically
calculated by applying the given function to the values of the input observable(s).
When the input observable(s) change, the computed observable automatically updates.</p>
<p>This implements the functorial map operation over observables, allowing you to
transform observable values through pure functions while preserving reactivity.</p>
<p><strong>Arguments</strong>:</p>
<ul>
<li><code>func</code> - A pure function that computes the derived value. For merged observables,
  the function receives individual values as separate arguments. For single
  observables, it receives the single value.</li>
<li><code>observable</code> - The source observable(s) to compute from. Can be a single Observable
  or a MergedObservable (created with the <code>|</code> operator).</li>
</ul>
<p><strong>Returns</strong>:</p>
<p>A new ComputedObservable containing the computed values. The observable will
  automatically update whenever the source observable(s) change.</p>
<p><strong>Examples</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="err">```</span><span class="n">python</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">fynx</span><span class="w"> </span><span class="kn">import</span> <span class="n">observable</span><span class="p">,</span> <span class="n">computed</span>

<span class="c1"># Single observable computation</span>
<span class="n">counter</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">doubled</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="n">counter</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">doubled</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>  <span class="c1"># 10</span>

<span class="n">counter</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">doubled</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>  <span class="c1"># 14</span>

<span class="c1"># Merged observable computation</span>
<span class="n">width</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">height</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="n">dimensions</span> <span class="o">=</span> <span class="n">width</span> <span class="o">|</span> <span class="n">height</span>

<span class="n">area</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span><span class="k">lambda</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">:</span> <span class="n">w</span> <span class="o">*</span> <span class="n">h</span><span class="p">,</span> <span class="n">dimensions</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">area</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>  <span class="c1"># 200</span>

<span class="c1"># More complex computation</span>
<span class="n">person</span> <span class="o">=</span> <span class="n">observable</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Alice&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="mi">30</span><span class="p">})</span>
<span class="n">greeting</span> <span class="o">=</span> <span class="n">computed</span><span class="p">(</span>
    <span class="k">lambda</span> <span class="n">p</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Hello </span><span class="si">{</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">, you are </span><span class="si">{</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> years old!&quot;</span><span class="p">,</span>
    <span class="n">person</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">greeting</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>  <span class="c1"># &quot;Hello Alice, you are 30 years old!&quot;</span>
<span class="err">```</span>
</code></pre></div>

<p><strong>Notes</strong>:</p>
<p>Computed functions should be pure (no side effects) and relatively fast,
  as they may be called frequently when dependencies change.</p>
<p><strong>See Also</strong>:</p>
<ul>
<li><code>observable</code> - Create basic observables</li>
<li><code>ComputedObservable</code> - The returned observable type</li>
<li><code>MergedObservable</code> - For combining multiple observables</li>
</ul>
<p><a id="fynx.reactive"></a></p>
<h1 id="fynxreactive">fynx.reactive<a class="headerlink" href="#fynxreactive" title="Permanent link">&para;</a></h1>
<h1 id="fynx-reactive-reactive-decorators-and-utilities">FynX Reactive - Reactive Decorators and Utilities<a class="headerlink" href="#fynx-reactive-reactive-decorators-and-utilities" title="Permanent link">&para;</a></h1>
<p>This module provides decorators and utilities for creating reactive relationships
between observables and functions. Reactive decorators enable automatic execution
of functions when their observable dependencies change, perfect for side effects
like UI updates, API calls, logging, and other imperative operations.</p>
<h2 id="what-are-reactive-functions">What are Reactive Functions?<a class="headerlink" href="#what-are-reactive-functions" title="Permanent link">&para;</a></h2>
<p>Reactive functions are functions that automatically re-run whenever the observables
they depend on change. Unlike computed values (which are declarative and return
derived data), reactive functions are imperative and perform side effects.</p>
<p>Reactive functions are ideal for:
- <strong>UI Updates</strong>: Automatically updating displays when data changes
- <strong>API Calls</strong>: Triggering network requests when relevant data changes
- <strong>Logging</strong>: Recording changes for debugging or analytics
- <strong>Side Effects</strong>: Any imperative operation that should respond to data changes
- <strong>Synchronization</strong>: Keeping external systems in sync with reactive state</p>
<h2 id="key-characteristics_1">Key Characteristics<a class="headerlink" href="#key-characteristics_1" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Automatic Execution</strong>: Functions run whenever dependencies change</li>
<li><strong>Imperative</strong>: Designed for side effects, not data transformation</li>
<li><strong>Dependency Tracking</strong>: Framework automatically tracks accessed observables</li>
<li><strong>Unsubscription</strong>: Easy cleanup when reactive functions are no longer needed</li>
<li><strong>Multiple Targets</strong>: Can react to multiple observables or entire stores</li>
</ul>
<h2 id="basic-usage_1">Basic Usage<a class="headerlink" href="#basic-usage_1" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="err">```</span><span class="n">python</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">fynx</span><span class="w"> </span><span class="kn">import</span> <span class="n">Store</span><span class="p">,</span> <span class="n">observable</span><span class="p">,</span> <span class="n">reactive</span>
</code></pre></div>

<p>class CounterStore(Store):
    count = observable(0)
    name = observable("Counter")</p>
<p>@reactive(CounterStore.count, CounterStore.name)
def log_counter_changes(count, name):
    print(f"Counter '{name}' changed to: {count}")</p>
<p><strong>Changes trigger the reactive function automatically</strong></p>
<p>CounterStore.count = 5   # Prints: "Counter 'Counter' changed to: 5"
CounterStore.name = "My Counter"  # Prints: "Counter 'My Counter' changed to: 5"
CounterStore.count = 10  # Prints: "Counter 'My Counter' changed to: 10"
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>Advanced Patterns
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>-----------------
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a>### Store-Level Reactions
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a>
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a>React to any change in an entire store:
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a>
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a>```python
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a>    class UserStore(Store):
<a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a>        name = observable(&quot;Alice&quot;)
<a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a>        age = observable(30)
<a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a>    email = observable(&quot;alice@example.com&quot;)
<a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a>
<a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a>@reactive(UserStore)  # Reacts to any change in UserStore
<a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a>def on_any_user_change():
<a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a>    snapshot = UserStore.to_dict()
<a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a>    print(f&quot;User data changed: {snapshot}&quot;)
<a id="__codelineno-28-18" name="__codelineno-28-18" href="#__codelineno-28-18"></a>
<a id="__codelineno-28-19" name="__codelineno-28-19" href="#__codelineno-28-19"></a>UserStore.name = &quot;Bob&quot;   # Triggers: User data changed: {&#39;name&#39;: &#39;Bob&#39;, &#39;age&#39;: 30, &#39;email&#39;: &#39;alice@example.com&#39;}
<a id="__codelineno-28-20" name="__codelineno-28-20" href="#__codelineno-28-20"></a>UserStore.age = 31       # Triggers again with updated data
</code></pre></div></p>
<h3 id="mixed-observable-types">Mixed Observable Types<a class="headerlink" href="#mixed-observable-types" title="Permanent link">&para;</a></h3>
<p>Combine store-level and individual observable reactions:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="n">__React</span> <span class="n">to</span> <span class="n">store</span> <span class="n">changes</span> <span class="ow">and</span> <span class="n">a</span> <span class="n">specific</span> <span class="n">external</span> <span class="n">observable__</span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="n">is_online</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a>
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="nd">@reactive</span><span class="p">(</span><span class="n">UserStore</span><span class="p">,</span> <span class="n">is_online</span><span class="p">)</span>
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a><span class="k">def</span><span class="w"> </span><span class="nf">on_user_or_online_change</span><span class="p">():</span>
<a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a>    <span class="n">user_data</span> <span class="o">=</span> <span class="n">UserStore</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
<a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a>    <span class="n">online_status</span> <span class="o">=</span> <span class="s2">&quot;online&quot;</span> <span class="k">if</span> <span class="n">is_online</span><span class="o">.</span><span class="n">value</span> <span class="k">else</span> <span class="s2">&quot;offline&quot;</span>
<a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;User </span><span class="si">{</span><span class="n">user_data</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> is </span><span class="si">{</span><span class="n">online_status</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a>
<a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a><span class="n">UserStore</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Charlie&quot;</span>  <span class="c1"># Triggers with current online status</span>
<a id="__codelineno-29-12" name="__codelineno-29-12" href="#__codelineno-29-12"></a><span class="n">is_online</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>       <span class="c1"># Triggers with current user data</span>
</code></pre></div>
<h3 id="cleanup-and-unsubscription">Cleanup and Unsubscription<a class="headerlink" href="#cleanup-and-unsubscription" title="Permanent link">&para;</a></h3>
<p>Reactive functions can be unsubscribed when no longer needed:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="n">__The</span> <span class="n">reactive</span> <span class="n">decorator</span> <span class="n">returns</span> <span class="n">the</span> <span class="n">original</span> <span class="n">function__</span>
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="n">__so</span> <span class="n">you</span> <span class="n">can</span> <span class="n">unsubscribe</span> <span class="n">later</span> <span class="k">if</span> <span class="n">needed__</span>
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a>
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="n">unsubscribe_func</span> <span class="o">=</span> <span class="n">reactive</span><span class="p">(</span><span class="n">CounterStore</span><span class="o">.</span><span class="n">count</span><span class="p">)(</span><span class="n">log_changes</span><span class="p">)</span>
<a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="n">__Later</span><span class="o">...</span><span class="n">__</span>
<a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a>
<a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a><span class="n">__CounterStore</span><span class="o">.</span><span class="n">count</span><span class="o">.</span><span class="n">unsubscribe</span><span class="p">(</span><span class="n">log_changes</span><span class="p">)</span>  <span class="c1"># Unsubscribe specific function__</span>
</code></pre></div>
<h2 id="real-world-examples">Real-World Examples<a class="headerlink" href="#real-world-examples" title="Permanent link">&para;</a></h2>
<h3 id="ui-update-simulation">UI Update Simulation<a class="headerlink" href="#ui-update-simulation" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">ViewModel</span><span class="p">(</span><span class="n">Store</span><span class="p">):</span>
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a>    <span class="n">search_query</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a>    <span class="n">results</span> <span class="o">=</span> <span class="n">observable</span><span class="p">([])</span>
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a>    <span class="n">is_loading</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a>
<a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="nd">@reactive</span><span class="p">(</span><span class="n">ViewModel</span><span class="o">.</span><span class="n">search_query</span><span class="p">)</span>
<a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="k">def</span><span class="w"> </span><span class="nf">update_search_results</span><span class="p">(</span><span class="n">query</span><span class="p">):</span>
<a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a>    <span class="k">if</span> <span class="n">query</span><span class="p">:</span>
<a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a>        <span class="n">ViewModel</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a>        <span class="c1"># Simulate API call</span>
<a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a>        <span class="n">ViewModel</span><span class="o">.</span><span class="n">results</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;Result for &#39;</span><span class="si">{</span><span class="n">query</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">]</span>
<a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a>        <span class="n">ViewModel</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-31-13" name="__codelineno-31-13" href="#__codelineno-31-13"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-31-14" name="__codelineno-31-14" href="#__codelineno-31-14"></a>        <span class="n">ViewModel</span><span class="o">.</span><span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-31-15" name="__codelineno-31-15" href="#__codelineno-31-15"></a>
<a id="__codelineno-31-16" name="__codelineno-31-16" href="#__codelineno-31-16"></a><span class="nd">@reactive</span><span class="p">(</span><span class="n">ViewModel</span><span class="o">.</span><span class="n">results</span><span class="p">,</span> <span class="n">ViewModel</span><span class="o">.</span><span class="n">is_loading</span><span class="p">)</span>
<a id="__codelineno-31-17" name="__codelineno-31-17" href="#__codelineno-31-17"></a><span class="k">def</span><span class="w"> </span><span class="nf">update_ui</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">loading</span><span class="p">):</span>
<a id="__codelineno-31-18" name="__codelineno-31-18" href="#__codelineno-31-18"></a>    <span class="k">if</span> <span class="n">loading</span><span class="p">:</span>
<a id="__codelineno-31-19" name="__codelineno-31-19" href="#__codelineno-31-19"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;🔄 Loading...&quot;</span><span class="p">)</span>
<a id="__codelineno-31-20" name="__codelineno-31-20" href="#__codelineno-31-20"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-31-21" name="__codelineno-31-21" href="#__codelineno-31-21"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📋 Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span><span class="si">}</span><span class="s2"> results: </span><span class="si">{</span><span class="n">results</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-31-22" name="__codelineno-31-22" href="#__codelineno-31-22"></a>
<a id="__codelineno-31-23" name="__codelineno-31-23" href="#__codelineno-31-23"></a><span class="n">ViewModel</span><span class="o">.</span><span class="n">search_query</span> <span class="o">=</span> <span class="s2">&quot;python&quot;</span>  <span class="c1"># Triggers both functions</span>
</code></pre></div>
<h3 id="form-validation">Form Validation<a class="headerlink" href="#form-validation" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">FormStore</span><span class="p">(</span><span class="n">Store</span><span class="p">):</span>
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a>    <span class="n">email</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a>    <span class="n">password</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a>    <span class="n">is_submitting</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a>
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a><span class="nd">@reactive</span><span class="p">(</span><span class="n">FormStore</span><span class="o">.</span><span class="n">email</span><span class="p">)</span>
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a><span class="k">def</span><span class="w"> </span><span class="nf">validate_email</span><span class="p">(</span><span class="n">email</span><span class="p">):</span>
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a>    <span class="n">is_valid</span> <span class="o">=</span> <span class="s2">&quot;@&quot;</span> <span class="ow">in</span> <span class="n">email</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">email</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">5</span>
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Email valid: </span><span class="si">{</span><span class="n">is_valid</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a>
<a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a><span class="nd">@reactive</span><span class="p">(</span><span class="n">FormStore</span><span class="o">.</span><span class="n">password</span><span class="p">)</span>
<a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a><span class="k">def</span><span class="w"> </span><span class="nf">validate_password</span><span class="p">(</span><span class="n">password</span><span class="p">):</span>
<a id="__codelineno-32-13" name="__codelineno-32-13" href="#__codelineno-32-13"></a>    <span class="n">is_strong</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">password</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">8</span>
<a id="__codelineno-32-14" name="__codelineno-32-14" href="#__codelineno-32-14"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Password strong: </span><span class="si">{</span><span class="n">is_strong</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-32-15" name="__codelineno-32-15" href="#__codelineno-32-15"></a>
<a id="__codelineno-32-16" name="__codelineno-32-16" href="#__codelineno-32-16"></a><span class="n">FormStore</span><span class="o">.</span><span class="n">email</span> <span class="o">=</span> <span class="s2">&quot;user@&quot;</span>       <span class="c1"># Email valid: False</span>
<a id="__codelineno-32-17" name="__codelineno-32-17" href="#__codelineno-32-17"></a><span class="n">FormStore</span><span class="o">.</span><span class="n">email</span> <span class="o">=</span> <span class="s2">&quot;user@example.com&quot;</span>  <span class="c1"># Email valid: True</span>
<a id="__codelineno-32-18" name="__codelineno-32-18" href="#__codelineno-32-18"></a><span class="n">FormStore</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="s2">&quot;123&quot;</span>      <span class="c1"># Password strong: False</span>
<a id="__codelineno-32-19" name="__codelineno-32-19" href="#__codelineno-32-19"></a><span class="n">FormStore</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="s2">&quot;secure123&quot;</span> <span class="c1"># Password strong: True</span>
</code></pre></div>
<h3 id="analytics-tracking">Analytics Tracking<a class="headerlink" href="#analytics-tracking" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">AnalyticsStore</span><span class="p">(</span><span class="n">Store</span><span class="p">):</span>
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a>    <span class="n">page_views</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a>    <span class="n">unique_visitors</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a>    <span class="n">current_page</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="s2">&quot;home&quot;</span><span class="p">)</span>
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a>
<a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="nd">@reactive</span><span class="p">(</span><span class="n">AnalyticsStore</span><span class="o">.</span><span class="n">page_views</span><span class="p">)</span>
<a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a><span class="k">def</span><span class="w"> </span><span class="nf">track_page_views</span><span class="p">(</span><span class="n">views</span><span class="p">):</span>
<a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📊 Analytics: </span><span class="si">{</span><span class="n">views</span><span class="si">}</span><span class="s2"> page views&quot;</span><span class="p">)</span>
<a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a>
<a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a><span class="nd">@reactive</span><span class="p">(</span><span class="n">AnalyticsStore</span><span class="o">.</span><span class="n">current_page</span><span class="p">)</span>
<a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a><span class="k">def</span><span class="w"> </span><span class="nf">track_page_changes</span><span class="p">(</span><span class="n">page</span><span class="p">):</span>
<a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📍 User navigated to: </span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a>
<a id="__codelineno-33-14" name="__codelineno-33-14" href="#__codelineno-33-14"></a><span class="n">AnalyticsStore</span><span class="o">.</span><span class="n">page_views</span> <span class="o">=</span> <span class="mi">150</span>
<a id="__codelineno-33-15" name="__codelineno-33-15" href="#__codelineno-33-15"></a><span class="n">AnalyticsStore</span><span class="o">.</span><span class="n">current_page</span> <span class="o">=</span> <span class="s2">&quot;products&quot;</span>
<a id="__codelineno-33-16" name="__codelineno-33-16" href="#__codelineno-33-16"></a><span class="n">AnalyticsStore</span><span class="o">.</span><span class="n">page_views</span> <span class="o">=</span> <span class="mi">151</span>  <span class="c1"># Both functions trigger</span>
</code></pre></div>
<h2 id="performance-considerations_1">Performance Considerations<a class="headerlink" href="#performance-considerations_1" title="Permanent link">&para;</a></h2>
<p>Reactive functions include several performance optimizations:</p>
<p><strong>Efficient Tracking</strong>: Only tracks observables actually accessed during function execution</p>
<p><strong>Batch Updates</strong>: Multiple observable changes in quick succession trigger the function only once</p>
<p><strong>Memory Management</strong>: Automatic cleanup when reactive contexts are no longer needed</p>
<p><strong>Selective Execution</strong>: Functions only run when their specific dependencies change</p>
<h2 id="best-practices_1">Best Practices<a class="headerlink" href="#best-practices_1" title="Permanent link">&para;</a></h2>
<h3 id="keep-functions-focused">Keep Functions Focused<a class="headerlink" href="#keep-functions-focused" title="Permanent link">&para;</a></h3>
<p>Each reactive function should have a single, clear responsibility:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="n">__Good</span><span class="p">:</span> <span class="n">Focused</span> <span class="n">responsibilities__</span>
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a>
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="nd">@reactive</span><span class="p">(</span><span class="n">user_data</span><span class="p">)</span>
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="k">def</span><span class="w"> </span><span class="nf">update_profile_ui</span><span class="p">(</span><span class="n">user_data</span><span class="p">):</span>
<a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a>    <span class="c1"># Only handles UI updates</span>
<a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a>    <span class="k">pass</span>
<a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a>
<a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a><span class="nd">@reactive</span><span class="p">(</span><span class="n">user_data</span><span class="p">)</span>
<a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a><span class="k">def</span><span class="w"> </span><span class="nf">sync_to_server</span><span class="p">(</span><span class="n">user_data</span><span class="p">):</span>
<a id="__codelineno-34-10" name="__codelineno-34-10" href="#__codelineno-34-10"></a>    <span class="c1"># Only handles server sync</span>
<a id="__codelineno-34-11" name="__codelineno-34-11" href="#__codelineno-34-11"></a>    <span class="k">pass</span>
<a id="__codelineno-34-12" name="__codelineno-34-12" href="#__codelineno-34-12"></a>
<a id="__codelineno-34-13" name="__codelineno-34-13" href="#__codelineno-34-13"></a><span class="n">__Avoid</span><span class="p">:</span> <span class="n">Mixed</span> <span class="n">responsibilities__</span>
<a id="__codelineno-34-14" name="__codelineno-34-14" href="#__codelineno-34-14"></a>
<a id="__codelineno-34-15" name="__codelineno-34-15" href="#__codelineno-34-15"></a><span class="nd">@reactive</span><span class="p">(</span><span class="n">user_data</span><span class="p">)</span>
<a id="__codelineno-34-16" name="__codelineno-34-16" href="#__codelineno-34-16"></a><span class="k">def</span><span class="w"> </span><span class="nf">handle_user_change</span><span class="p">(</span><span class="n">user_data</span><span class="p">):</span>
<a id="__codelineno-34-17" name="__codelineno-34-17" href="#__codelineno-34-17"></a>    <span class="c1"># Updates UI, syncs to server, logs analytics...</span>
<a id="__codelineno-34-18" name="__codelineno-34-18" href="#__codelineno-34-18"></a>    <span class="k">pass</span>
</code></pre></div>
<h3 id="handle-errors-gracefully">Handle Errors Gracefully<a class="headerlink" href="#handle-errors-gracefully" title="Permanent link">&para;</a></h3>
<p>Reactive functions should handle exceptions to prevent breaking the reactive system:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="nd">@reactive</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">process_data_safely</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a>        <span class="c1"># Process data...</span>
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a>        <span class="n">result</span> <span class="o">=</span> <span class="n">expensive_operation</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a>        <span class="n">update_ui</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error processing data: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a>        <span class="n">show_error_message</span><span class="p">()</span>
</code></pre></div>
<h3 id="use-appropriate-granularity">Use Appropriate Granularity<a class="headerlink" href="#use-appropriate-granularity" title="Permanent link">&para;</a></h3>
<p>Choose the right level of reactivity for your use case:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="n">__Fine</span><span class="o">-</span><span class="n">grained</span><span class="p">:</span> <span class="n">React</span> <span class="n">to</span> <span class="n">specific</span> <span class="n">changes__</span>
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a>
<a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="nd">@reactive</span><span class="p">(</span><span class="n">store</span><span class="o">.</span><span class="n">specific_field</span><span class="p">)</span>
<a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="k">def</span><span class="w"> </span><span class="nf">handle_specific_change</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
<a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a>    <span class="k">pass</span>
<a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a>
<a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a><span class="n">__Coarse</span><span class="o">-</span><span class="n">grained</span><span class="p">:</span> <span class="n">React</span> <span class="n">to</span> <span class="nb">any</span> <span class="n">store</span> <span class="n">change__</span>
<a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a>
<a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a><span class="nd">@reactive</span><span class="p">(</span><span class="n">store</span><span class="p">)</span>
<a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a><span class="k">def</span><span class="w"> </span><span class="nf">handle_any_change</span><span class="p">():</span>
<a id="__codelineno-36-11" name="__codelineno-36-11" href="#__codelineno-36-11"></a>    <span class="k">pass</span>
</code></pre></div>
<h2 id="common-patterns_2">Common Patterns<a class="headerlink" href="#common-patterns_2" title="Permanent link">&para;</a></h2>
<p><strong>Event Logging</strong>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="nd">@reactive</span><span class="p">(</span><span class="n">store</span><span class="p">)</span>
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">log_all_changes</span><span class="p">():</span>
<a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;State changed at </span><span class="si">{</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">store</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></p>
<p><strong>Cache Invalidation</strong>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="n">cache</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="nd">@reactive</span><span class="p">(</span><span class="n">data_version</span><span class="p">)</span>
<a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="k">def</span><span class="w"> </span><span class="nf">invalidate_cache</span><span class="p">(</span><span class="n">version</span><span class="p">):</span>
<a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a>    <span class="n">cache</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cache invalidated for version </span><span class="si">{</span><span class="n">version</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></p>
<p><strong>External System Sync</strong>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="nd">@reactive</span><span class="p">(</span><span class="n">local_data</span><span class="p">)</span>
<a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">sync_to_external_system</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
<a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a>    <span class="n">external_api</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Synced to external system&quot;</span><span class="p">)</span>
</code></pre></div></p>
<h2 id="limitations_1">Limitations<a class="headerlink" href="#limitations_1" title="Permanent link">&para;</a></h2>
<ul>
<li>Reactive functions cannot return values (use computed for that)</li>
<li>Dependencies must be accessed synchronously during execution</li>
<li>Functions execute for every dependency change (no debouncing built-in)</li>
<li>Cannot create circular dependencies with observables</li>
</ul>
<h2 id="troubleshooting_1">Troubleshooting<a class="headerlink" href="#troubleshooting_1" title="Permanent link">&para;</a></h2>
<p><strong>Function not triggering</strong>: Ensure all accessed observables are passed as arguments to @reactive</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="n">__Wrong</span><span class="p">:</span> <span class="n">external_obs</span> <span class="ow">not</span> <span class="n">declared</span> <span class="k">as</span> <span class="n">dependency__</span>
<a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a>
<a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="n">external_obs</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a><span class="nd">@reactive</span><span class="p">(</span><span class="n">some_obs</span><span class="p">)</span>
<a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="k">def</span><span class="w"> </span><span class="nf">wrong_func</span><span class="p">():</span>
<a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a>    <span class="n">value</span> <span class="o">=</span> <span class="n">external_obs</span><span class="o">.</span><span class="n">value</span>  <span class="c1"># Not tracked!</span>
<a id="__codelineno-40-7" name="__codelineno-40-7" href="#__codelineno-40-7"></a>
<a id="__codelineno-40-8" name="__codelineno-40-8" href="#__codelineno-40-8"></a><span class="n">__Right</span><span class="p">:</span> <span class="n">Declare</span> <span class="nb">all</span> <span class="n">dependencies__</span>
<a id="__codelineno-40-9" name="__codelineno-40-9" href="#__codelineno-40-9"></a>
<a id="__codelineno-40-10" name="__codelineno-40-10" href="#__codelineno-40-10"></a><span class="nd">@reactive</span><span class="p">(</span><span class="n">some_obs</span><span class="p">,</span> <span class="n">external_obs</span><span class="p">)</span>
<a id="__codelineno-40-11" name="__codelineno-40-11" href="#__codelineno-40-11"></a><span class="k">def</span><span class="w"> </span><span class="nf">right_func</span><span class="p">(</span><span class="n">some_val</span><span class="p">,</span> <span class="n">external_val</span><span class="p">):</span>
<a id="__codelineno-40-12" name="__codelineno-40-12" href="#__codelineno-40-12"></a>    <span class="k">pass</span>
</code></pre></div>
<p><strong>Too many executions</strong>: Consider using @watch for conditional execution instead</p>
<p><strong>Performance issues</strong>: Break large reactive functions into smaller, focused ones</p>
<h2 id="comparison-with-other-approaches">Comparison with Other Approaches<a class="headerlink" href="#comparison-with-other-approaches" title="Permanent link">&para;</a></h2>
<p><strong>vs Manual Subscriptions</strong>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="n">__Manual</span> <span class="p">(</span><span class="n">error</span><span class="o">-</span><span class="n">prone</span><span class="p">)</span><span class="n">__</span>
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a>
<a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="k">def</span><span class="w"> </span><span class="nf">setup</span><span class="p">():</span>
<a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a>    <span class="n">obs</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
<a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a>    <span class="n">obs2</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
<a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a>    <span class="c1"># Must manually unsubscribe later...</span>
<a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a>
<a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a><span class="n">__Reactive</span> <span class="p">(</span><span class="n">declarative</span><span class="p">)</span><span class="n">__</span>
<a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a>
<a id="__codelineno-41-10" name="__codelineno-41-10" href="#__codelineno-41-10"></a><span class="nd">@reactive</span><span class="p">(</span><span class="n">obs</span><span class="p">,</span> <span class="n">obs2</span><span class="p">)</span>
<a id="__codelineno-41-11" name="__codelineno-41-11" href="#__codelineno-41-11"></a><span class="k">def</span><span class="w"> </span><span class="nf">callback</span><span class="p">():</span>
<a id="__codelineno-41-12" name="__codelineno-41-12" href="#__codelineno-41-12"></a>    <span class="k">pass</span>  <span class="c1"># Automatically managed</span>
</code></pre></div></p>
<p><strong>vs Computed Values</strong>:
- Use @reactive for side effects (UI updates, API calls)
- Use @computed for derived data (calculations, transformations)</p>
<p><strong>vs Watch Decorators</strong>:
- Use @reactive for unconditional reactions to changes
- Use @watch for conditional execution (only when conditions met)</p>
<h2 id="see-also_2">See Also<a class="headerlink" href="#see-also_2" title="Permanent link">&para;</a></h2>
<ul>
<li><code>fynx.watch</code>: Conditional reactive functions</li>
<li><code>fynx.computed</code>: Derived reactive values</li>
<li><code>fynx.store</code>: Reactive state containers</li>
<li><code>fynx.observable</code>: Core observable classes</li>
</ul>
<p><a id="fynx.reactive.ReactiveHandler"></a></p>
<h2 id="reactivehandler-objects">ReactiveHandler Objects<a class="headerlink" href="#reactivehandler-objects" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">ReactiveHandler</span><span class="p">()</span>
</code></pre></div>
<p>Manages reactive function subscriptions and handles different target types.</p>
<p>ReactiveHandler is the core implementation behind the <code>@reactive</code> decorator.
It intelligently handles different types of targets (Store classes, individual
observables) and creates the appropriate subscription mechanism.</p>
<p>The handler supports:
- Store class subscriptions (reacts to any change in the store)
- Individual observable subscriptions (reacts to specific observables)
- Mixed subscriptions (combination of stores and observables)</p>
<p>This class is typically used indirectly through the <code>@reactive</code> decorator
rather than instantiated directly.</p>
<p><strong>Example</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="err">```</span><span class="n">python</span>
<span class="err">#</span><span class="w"> </span><span class="n">These</span><span class="w"> </span><span class="ow">all</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="n">ReactiveHandler</span><span class="w"> </span><span class="nl">internally</span><span class="p">:</span>
<span class="nv">@reactive</span><span class="p">(</span><span class="n">store_instance</span><span class="p">)</span><span class="w">      </span><span class="err">#</span><span class="w"> </span><span class="n">Store</span><span class="w"> </span><span class="n">subscription</span>
<span class="nv">@reactive</span><span class="p">(</span><span class="n">obs1</span><span class="p">,</span><span class="w"> </span><span class="n">obs2</span><span class="p">)</span><span class="w">          </span><span class="err">#</span><span class="w"> </span><span class="n">Multiple</span><span class="w"> </span><span class="n">observables</span>
<span class="nv">@reactive</span><span class="p">(</span><span class="n">store_class</span><span class="p">.</span><span class="n">attr</span><span class="p">)</span><span class="w">    </span><span class="err">#</span><span class="w"> </span><span class="n">Single</span><span class="w"> </span><span class="n">observable</span>
<span class="err">```</span>
</code></pre></div>

<p><a id="fynx.reactive.ReactiveHandler.__init__"></a></p>
<h4 id="__init__">__init__<a class="headerlink" href="#__init__" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">targets</span><span class="p">)</span>
</code></pre></div>
<p>Initialize the reactive handler with target observables/stores.</p>
<p><strong>Arguments</strong>:</p>
<ul>
<li><code>*targets</code> - Variable number of observables, stores, or store attributes
  to monitor for changes.</li>
</ul>
<p><a id="fynx.reactive.ReactiveHandler.__call__"></a></p>
<h4 id="__call__">__call__<a class="headerlink" href="#__call__" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="k">def</span><span class="w"> </span><span class="fm">__call__</span><span class="p">(</span><span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span>
</code></pre></div>
<p>Decorator implementation that makes the function reactive.</p>
<p>This method is called when the ReactiveHandler is used as a decorator.
It sets up the reactive context for the decorated function and returns
the original function (decorators typically return the same function).</p>
<p><strong>Arguments</strong>:</p>
<ul>
<li><code>func</code> - The function to make reactive</li>
</ul>
<p><strong>Returns</strong>:</p>
<p>The original function, now configured to react to target changes</p>
<p><strong>Example</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="err">```</span><span class="n">python</span>
<span class="nv">@reactive</span><span class="p">(</span><span class="n">store</span><span class="p">.</span><span class="nf">count</span><span class="p">,</span><span class="w"> </span><span class="n">store</span><span class="p">.</span><span class="n">name</span><span class="p">)</span>
<span class="n">def</span><span class="w"> </span><span class="n">update_display</span><span class="p">(</span><span class="nf">count</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="err">:</span>
<span class="w">    </span><span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="ss">&quot;Count: {count}, Name: {name}&quot;</span><span class="p">)</span>

<span class="err">#</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">equivalent</span><span class="w"> </span><span class="k">to</span><span class="err">:</span>
<span class="err">#</span><span class="w"> </span><span class="n">reactive_handler</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ReactiveHandler</span><span class="p">(</span><span class="n">store</span><span class="p">.</span><span class="nf">count</span><span class="p">,</span><span class="w"> </span><span class="n">store</span><span class="p">.</span><span class="n">name</span><span class="p">)</span>
<span class="err">#</span><span class="w"> </span><span class="n">update_display</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">reactive_handler</span><span class="p">(</span><span class="n">update_display</span><span class="p">)</span>
<span class="err">```</span>
</code></pre></div>

<p><a id="fynx.reactive.reactive"></a></p>
<h4 id="reactive">reactive<a class="headerlink" href="#reactive" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">reactive</span><span class="p">(</span><span class="o">*</span><span class="n">targets</span><span class="p">)</span>
</code></pre></div>
<p>Create a reactive handler that works as a decorator.</p>
<p>This is a convenience wrapper around subscribe() that works as a decorator.</p>
<p>As decorator:
@reactive(store) - reacts to all observables in store
@reactive(observable) - reacts to single observable
@reactive(obs1, obs2, ...) - reacts to multiple observables</p>
<p><strong>Arguments</strong>:</p>
<ul>
<li><code>*targets</code> - Store class, Observable instance(s), or multiple Observable instances</li>
</ul>
<p><strong>Returns</strong>:</p>
<p>ReactiveHandler that can be used as decorator</p>
<p><a id="fynx.registry"></a></p>
<h1 id="fynxregistry">fynx.registry<a class="headerlink" href="#fynxregistry" title="Permanent link">&para;</a></h1>
<h1 id="fynx-registry-global-reactive-context-management">FynX Registry - Global Reactive Context Management<a class="headerlink" href="#fynx-registry-global-reactive-context-management" title="Permanent link">&para;</a></h1>
<p>This module provides global registries that track reactive contexts and their
relationships. These registries enable efficient subscription management and
cleanup across the entire FynX reactive system.</p>
<p>Global Registries:
- <strong>_all_reactive_contexts</strong>: Set of all active ReactiveContext instances
- <strong>_func_to_contexts</strong>: Mapping from user functions to their reactive contexts</p>
<p>These registries support:
- <strong>Efficient Unsubscription</strong>: O(1) lookup of contexts by function
- <strong>Memory Management</strong>: Tracking all active contexts for cleanup
- <strong>Cross-Component Coordination</strong>: Managing reactive relationships globally
- <strong>Debugging Support</strong>: Inspecting active reactive contexts</p>
<p>The registries are primarily used internally by Observable and Store classes
for managing subscriptions and ensuring proper cleanup when reactive contexts
are no longer needed.</p>
<p><a id="fynx.store"></a></p>
<h1 id="fynxstore">fynx.store<a class="headerlink" href="#fynxstore" title="Permanent link">&para;</a></h1>
<h1 id="fynx-store-reactive-state-management-components">FynX Store - Reactive State Management Components<a class="headerlink" href="#fynx-store-reactive-state-management-components" title="Permanent link">&para;</a></h1>
<p>This module provides the core components for reactive state management in FynX,
enabling you to create organized, reactive state containers that group related
observables together with convenient subscription and state management methods.</p>
<h2 id="why-use-stores">Why Use Stores?<a class="headerlink" href="#why-use-stores" title="Permanent link">&para;</a></h2>
<p>Stores help you organize your application's reactive state into logical units. Instead
of having observables scattered throughout your codebase, Stores group related data
together and provide convenient methods for subscribing to changes, serializing state,
and managing the reactive lifecycle.</p>
<p>Stores are particularly useful for:
- <strong>Application State</strong>: Global app state like user preferences, theme settings
- <strong>Feature State</strong>: State for specific features like shopping cart, user profile
- <strong>Component State</strong>: Local state that needs to be shared across multiple components
- <strong>Business Logic</strong>: Computed values and derived state based on raw data</p>
<h2 id="core-components">Core Components<a class="headerlink" href="#core-components" title="Permanent link">&para;</a></h2>
<p><strong>Store</strong>: A base class for creating reactive state containers. Store classes can define
observable attributes using the <code>observable()</code> descriptor, and automatically provide
methods for subscribing to changes and managing state.</p>
<p><strong>observable</strong>: A descriptor function that creates observable attributes on Store classes.
Use this to define reactive properties in your Store subclasses.</p>
<p><strong>StoreSnapshot</strong>: An immutable snapshot of store state at a specific point in time,
useful for debugging, logging, and ensuring consistent state access.</p>
<p><strong>StoreMeta</strong>: A metaclass that automatically converts observable attributes to descriptors
and provides type hint compatibility for mypy.</p>
<h2 id="key-features_1">Key Features<a class="headerlink" href="#key-features_1" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Automatic Observable Management</strong>: Store metaclass handles observable creation</li>
<li><strong>Convenient Subscriptions</strong>: Subscribe to all changes or individual observables</li>
<li><strong>State Serialization</strong>: Save and restore store state with <code>to_dict()</code> and <code>load_state()</code></li>
<li><strong>Type Safety</strong>: Full type hint support for better IDE experience</li>
<li><strong>Memory Efficient</strong>: Automatic cleanup and efficient change detection</li>
<li><strong>Composable</strong>: Easy to combine and nest multiple stores</li>
</ul>
<h2 id="basic-usage_2">Basic Usage<a class="headerlink" href="#basic-usage_2" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">fynx</span><span class="w"> </span><span class="kn">import</span> <span class="n">Store</span><span class="p">,</span> <span class="n">observable</span>
<a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a>
<a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a><span class="k">class</span><span class="w"> </span><span class="nc">CounterStore</span><span class="p">(</span><span class="n">Store</span><span class="p">):</span>
<a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a>    <span class="n">count</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a>    <span class="n">name</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="s2">&quot;My Counter&quot;</span><span class="p">)</span>
<a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a>
<a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a><span class="c1"># Access values like regular attributes</span>
<a id="__codelineno-48-8" name="__codelineno-48-8" href="#__codelineno-48-8"></a><span class="nb">print</span><span class="p">(</span><span class="n">CounterStore</span><span class="o">.</span><span class="n">count</span><span class="p">)</span>  <span class="c1"># 0</span>
<a id="__codelineno-48-9" name="__codelineno-48-9" href="#__codelineno-48-9"></a><span class="n">CounterStore</span><span class="o">.</span><span class="n">count</span> <span class="o">=</span> <span class="mi">5</span>     <span class="c1"># Updates the observable</span>
<a id="__codelineno-48-10" name="__codelineno-48-10" href="#__codelineno-48-10"></a>
<a id="__codelineno-48-11" name="__codelineno-48-11" href="#__codelineno-48-11"></a><span class="c1"># Subscribe to all changes in the store</span>
<a id="__codelineno-48-12" name="__codelineno-48-12" href="#__codelineno-48-12"></a><span class="nd">@CounterStore</span><span class="o">.</span><span class="n">subscribe</span>
<a id="__codelineno-48-13" name="__codelineno-48-13" href="#__codelineno-48-13"></a><span class="k">def</span><span class="w"> </span><span class="nf">on_store_change</span><span class="p">(</span><span class="n">snapshot</span><span class="p">):</span>
<a id="__codelineno-48-14" name="__codelineno-48-14" href="#__codelineno-48-14"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Store changed: count=</span><span class="si">{</span><span class="n">snapshot</span><span class="o">.</span><span class="n">count</span><span class="si">}</span><span class="s2">, name=</span><span class="si">{</span><span class="n">snapshot</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-48-15" name="__codelineno-48-15" href="#__codelineno-48-15"></a>
<a id="__codelineno-48-16" name="__codelineno-48-16" href="#__codelineno-48-16"></a><span class="n">CounterStore</span><span class="o">.</span><span class="n">count</span> <span class="o">=</span> <span class="mi">10</span>  <span class="c1"># Triggers: &quot;Store changed: count=10, name=My Counter&quot;</span>
</code></pre></div>
<h2 id="advanced-patterns_1">Advanced Patterns<a class="headerlink" href="#advanced-patterns_1" title="Permanent link">&para;</a></h2>
<h3 id="computed-properties-in-stores">Computed Properties in Stores<a class="headerlink" href="#computed-properties-in-stores" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">fynx</span><span class="w"> </span><span class="kn">import</span> <span class="n">Store</span><span class="p">,</span> <span class="n">observable</span><span class="p">,</span> <span class="n">computed</span>
<a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a>
<a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a><span class="k">class</span><span class="w"> </span><span class="nc">UserStore</span><span class="p">(</span><span class="n">Store</span><span class="p">):</span>
<a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a>    <span class="n">first_name</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="s2">&quot;John&quot;</span><span class="p">)</span>
<a id="__codelineno-49-5" name="__codelineno-49-5" href="#__codelineno-49-5"></a>    <span class="n">last_name</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="s2">&quot;Doe&quot;</span><span class="p">)</span>
<a id="__codelineno-49-6" name="__codelineno-49-6" href="#__codelineno-49-6"></a>    <span class="n">age</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
<a id="__codelineno-49-7" name="__codelineno-49-7" href="#__codelineno-49-7"></a>
<a id="__codelineno-49-8" name="__codelineno-49-8" href="#__codelineno-49-8"></a>    <span class="nd">@computed</span>
<a id="__codelineno-49-9" name="__codelineno-49-9" href="#__codelineno-49-9"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">full_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-49-10" name="__codelineno-49-10" href="#__codelineno-49-10"></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">first_name</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">last_name</span><span class="si">}</span><span class="s2">&quot;</span>
<a id="__codelineno-49-11" name="__codelineno-49-11" href="#__codelineno-49-11"></a>
<a id="__codelineno-49-12" name="__codelineno-49-12" href="#__codelineno-49-12"></a>    <span class="nd">@computed</span>
<a id="__codelineno-49-13" name="__codelineno-49-13" href="#__codelineno-49-13"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">is_adult</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-49-14" name="__codelineno-49-14" href="#__codelineno-49-14"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">age</span> <span class="o">&gt;=</span> <span class="mi">18</span>
<a id="__codelineno-49-15" name="__codelineno-49-15" href="#__codelineno-49-15"></a>
<a id="__codelineno-49-16" name="__codelineno-49-16" href="#__codelineno-49-16"></a><span class="nb">print</span><span class="p">(</span><span class="n">UserStore</span><span class="o">.</span><span class="n">full_name</span><span class="p">)</span>  <span class="c1"># &quot;John Doe&quot;</span>
<a id="__codelineno-49-17" name="__codelineno-49-17" href="#__codelineno-49-17"></a><span class="n">UserStore</span><span class="o">.</span><span class="n">first_name</span> <span class="o">=</span> <span class="s2">&quot;Jane&quot;</span>
<a id="__codelineno-49-18" name="__codelineno-49-18" href="#__codelineno-49-18"></a><span class="nb">print</span><span class="p">(</span><span class="n">UserStore</span><span class="o">.</span><span class="n">full_name</span><span class="p">)</span>  <span class="c1"># &quot;Jane Doe&quot; (automatically updated)</span>
</code></pre></div>
<h3 id="state-persistence">State Persistence<a class="headerlink" href="#state-persistence" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="c1"># Save store state</span>
<a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a><span class="n">state</span> <span class="o">=</span> <span class="n">CounterStore</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
<a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a><span class="c1"># state = {&quot;count&quot;: 10, &quot;name&quot;: &quot;My Counter&quot;}</span>
<a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a>
<a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a><span class="c1"># Restore state later</span>
<a id="__codelineno-50-6" name="__codelineno-50-6" href="#__codelineno-50-6"></a><span class="n">CounterStore</span><span class="o">.</span><span class="n">load_state</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
<a id="__codelineno-50-7" name="__codelineno-50-7" href="#__codelineno-50-7"></a><span class="nb">print</span><span class="p">(</span><span class="n">CounterStore</span><span class="o">.</span><span class="n">count</span><span class="p">)</span>  <span class="c1"># 10</span>
</code></pre></div>
<h3 id="store-composition">Store Composition<a class="headerlink" href="#store-composition" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">AppStore</span><span class="p">(</span><span class="n">Store</span><span class="p">):</span>
<a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a>    <span class="n">theme</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="s2">&quot;light&quot;</span><span class="p">)</span>
<a id="__codelineno-51-3" name="__codelineno-51-3" href="#__codelineno-51-3"></a>    <span class="n">language</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="s2">&quot;en&quot;</span><span class="p">)</span>
<a id="__codelineno-51-4" name="__codelineno-51-4" href="#__codelineno-51-4"></a>
<a id="__codelineno-51-5" name="__codelineno-51-5" href="#__codelineno-51-5"></a><span class="k">class</span><span class="w"> </span><span class="nc">UserStore</span><span class="p">(</span><span class="n">Store</span><span class="p">):</span>
<a id="__codelineno-51-6" name="__codelineno-51-6" href="#__codelineno-51-6"></a>    <span class="n">name</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="s2">&quot;Alice&quot;</span><span class="p">)</span>
<a id="__codelineno-51-7" name="__codelineno-51-7" href="#__codelineno-51-7"></a>    <span class="n">preferences</span> <span class="o">=</span> <span class="n">observable</span><span class="p">({})</span>
<a id="__codelineno-51-8" name="__codelineno-51-8" href="#__codelineno-51-8"></a>
<a id="__codelineno-51-9" name="__codelineno-51-9" href="#__codelineno-51-9"></a><span class="c1"># Use both stores independently</span>
<a id="__codelineno-51-10" name="__codelineno-51-10" href="#__codelineno-51-10"></a><span class="n">AppStore</span><span class="o">.</span><span class="n">theme</span> <span class="o">=</span> <span class="s2">&quot;dark&quot;</span>
<a id="__codelineno-51-11" name="__codelineno-51-11" href="#__codelineno-51-11"></a><span class="n">UserStore</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Bob&quot;</span>
</code></pre></div>
<h2 id="store-lifecycle">Store Lifecycle<a class="headerlink" href="#store-lifecycle" title="Permanent link">&para;</a></h2>
<p>Stores automatically manage the lifecycle of their observables:</p>
<ol>
<li>
<p><strong>Creation</strong>: When you define a Store subclass, the metaclass automatically
   converts <code>observable()</code> calls into reactive descriptors.</p>
</li>
<li>
<p><strong>Access</strong>: When you access store attributes, you get transparent reactive values
   that behave like regular Python attributes.</p>
</li>
<li>
<p><strong>Updates</strong>: When you assign to store attributes, the underlying observables are
   updated and all dependent computations and reactions are notified.</p>
</li>
<li>
<p><strong>Cleanup</strong>: Reactive contexts are automatically cleaned up when no longer needed.</p>
</li>
</ol>
<h2 id="performance-considerations_2">Performance Considerations<a class="headerlink" href="#performance-considerations_2" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Efficient Updates</strong>: Only notifies subscribers when values actually change</li>
<li><strong>Lazy Evaluation</strong>: Computed properties only recalculate when accessed</li>
<li><strong>Memory Management</strong>: Automatic cleanup of unused reactive contexts</li>
<li><strong>Batch Updates</strong>: Multiple changes in quick succession are efficiently handled</li>
</ul>
<h2 id="best-practices_2">Best Practices<a class="headerlink" href="#best-practices_2" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Group Related State</strong>: Keep related observables together in the same store</li>
<li><strong>Use Descriptive Names</strong>: Name your stores and observables clearly</li>
<li><strong>Avoid Large Stores</strong>: Split very large stores into smaller, focused ones</li>
<li><strong>Use Computed for Derived State</strong>: Don't store derived values manually</li>
<li><strong>Handle Errors</strong>: Reactive functions should handle exceptions gracefully</li>
<li><strong>Document Store Purpose</strong>: Use docstrings to explain what each store manages</li>
</ul>
<h2 id="common-patterns_3">Common Patterns<a class="headerlink" href="#common-patterns_3" title="Permanent link">&para;</a></h2>
<p><strong>Singleton Stores</strong>: Use class-level access for global state:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">GlobalStore</span><span class="p">(</span><span class="n">Store</span><span class="p">):</span>
<a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a>    <span class="n">is_loading</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a>    <span class="n">current_user</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-52-4" name="__codelineno-52-4" href="#__codelineno-52-4"></a>
<a id="__codelineno-52-5" name="__codelineno-52-5" href="#__codelineno-52-5"></a><span class="c1"># Access globally</span>
<a id="__codelineno-52-6" name="__codelineno-52-6" href="#__codelineno-52-6"></a><span class="n">GlobalStore</span><span class="o">.</span><span class="n">is_loading</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>
<p><strong>Instance Stores</strong>: Create store instances for per-component state:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">TodoStore</span><span class="p">(</span><span class="n">Store</span><span class="p">):</span>
<a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a>    <span class="n">items</span> <span class="o">=</span> <span class="n">observable</span><span class="p">([])</span>
<a id="__codelineno-53-3" name="__codelineno-53-3" href="#__codelineno-53-3"></a>    <span class="nb">filter</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="s2">&quot;all&quot;</span><span class="p">)</span>
<a id="__codelineno-53-4" name="__codelineno-53-4" href="#__codelineno-53-4"></a>
<a id="__codelineno-53-5" name="__codelineno-53-5" href="#__codelineno-53-5"></a><span class="n">store</span> <span class="o">=</span> <span class="n">TodoStore</span><span class="p">()</span>  <span class="c1"># Instance with its own state</span>
</code></pre></div>
<p><strong>Store Communication</strong>: Stores can reference each other:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">AuthStore</span><span class="p">(</span><span class="n">Store</span><span class="p">):</span>
<a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a>    <span class="n">is_logged_in</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a>    <span class="n">user_id</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-54-4" name="__codelineno-54-4" href="#__codelineno-54-4"></a>
<a id="__codelineno-54-5" name="__codelineno-54-5" href="#__codelineno-54-5"></a><span class="k">class</span><span class="w"> </span><span class="nc">DataStore</span><span class="p">(</span><span class="n">Store</span><span class="p">):</span>
<a id="__codelineno-54-6" name="__codelineno-54-6" href="#__codelineno-54-6"></a>    <span class="nd">@computed</span>
<a id="__codelineno-54-7" name="__codelineno-54-7" href="#__codelineno-54-7"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">can_fetch_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-54-8" name="__codelineno-54-8" href="#__codelineno-54-8"></a>        <span class="k">return</span> <span class="n">AuthStore</span><span class="o">.</span><span class="n">is_logged_in</span>
</code></pre></div>
<h2 id="migration-from-plain-observables">Migration from Plain Observables<a class="headerlink" href="#migration-from-plain-observables" title="Permanent link">&para;</a></h2>
<p>If you're using plain observables and want to migrate to Stores:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="c1"># Before: Plain observables</span>
<a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a><span class="n">user_name</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="s2">&quot;Alice&quot;</span><span class="p">)</span>
<a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a><span class="n">user_age</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
<a id="__codelineno-55-4" name="__codelineno-55-4" href="#__codelineno-55-4"></a>
<a id="__codelineno-55-5" name="__codelineno-55-5" href="#__codelineno-55-5"></a><span class="c1"># After: Store-based</span>
<a id="__codelineno-55-6" name="__codelineno-55-6" href="#__codelineno-55-6"></a><span class="k">class</span><span class="w"> </span><span class="nc">UserStore</span><span class="p">(</span><span class="n">Store</span><span class="p">):</span>
<a id="__codelineno-55-7" name="__codelineno-55-7" href="#__codelineno-55-7"></a>    <span class="n">name</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="s2">&quot;Alice&quot;</span><span class="p">)</span>
<a id="__codelineno-55-8" name="__codelineno-55-8" href="#__codelineno-55-8"></a>    <span class="n">age</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
<a id="__codelineno-55-9" name="__codelineno-55-9" href="#__codelineno-55-9"></a>
<a id="__codelineno-55-10" name="__codelineno-55-10" href="#__codelineno-55-10"></a><span class="c1"># Access remains similar</span>
<a id="__codelineno-55-11" name="__codelineno-55-11" href="#__codelineno-55-11"></a><span class="n">UserStore</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Bob&quot;</span>  <span class="c1"># Instead of user_name.set(&quot;Bob&quot;)</span>
</code></pre></div>
<h2 id="error-handling_1">Error Handling<a class="headerlink" href="#error-handling_1" title="Permanent link">&para;</a></h2>
<p>Stores handle errors gracefully:</p>
<ul>
<li>Observable updates that fail don't break the reactive system</li>
<li>Computed property errors are logged but don't prevent other updates</li>
<li>Store serialization handles missing or invalid data</li>
</ul>
<h2 id="debugging">Debugging<a class="headerlink" href="#debugging" title="Permanent link">&para;</a></h2>
<p>Use StoreSnapshot for debugging:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="c1"># Capture current state</span>
<a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a><span class="n">snapshot</span> <span class="o">=</span> <span class="n">StoreSnapshot</span><span class="p">(</span><span class="n">CounterStore</span><span class="p">,</span> <span class="n">CounterStore</span><span class="o">.</span><span class="n">_get_observable_attrs</span><span class="p">())</span>
<a id="__codelineno-56-3" name="__codelineno-56-3" href="#__codelineno-56-3"></a><span class="nb">print</span><span class="p">(</span><span class="n">snapshot</span><span class="p">)</span>  <span class="c1"># Shows all observable values</span>
<a id="__codelineno-56-4" name="__codelineno-56-4" href="#__codelineno-56-4"></a>
<a id="__codelineno-56-5" name="__codelineno-56-5" href="#__codelineno-56-5"></a><span class="c1"># Compare states</span>
<a id="__codelineno-56-6" name="__codelineno-56-6" href="#__codelineno-56-6"></a><span class="n">old_snapshot</span> <span class="o">=</span> <span class="n">snapshot</span>
<a id="__codelineno-56-7" name="__codelineno-56-7" href="#__codelineno-56-7"></a><span class="c1"># ... do some operations ...</span>
<a id="__codelineno-56-8" name="__codelineno-56-8" href="#__codelineno-56-8"></a><span class="n">new_snapshot</span> <span class="o">=</span> <span class="n">StoreSnapshot</span><span class="p">(</span><span class="n">CounterStore</span><span class="p">,</span> <span class="n">CounterStore</span><span class="o">.</span><span class="n">_get_observable_attrs</span><span class="p">())</span>
<a id="__codelineno-56-9" name="__codelineno-56-9" href="#__codelineno-56-9"></a><span class="c1"># Compare old_snapshot and new_snapshot</span>
</code></pre></div>
<h2 id="see-also_3">See Also<a class="headerlink" href="#see-also_3" title="Permanent link">&para;</a></h2>
<ul>
<li><code>fynx.observable</code>: Core observable classes and operators</li>
<li><code>fynx.computed</code>: Creating computed properties</li>
<li><code>fynx.reactive</code>: Reactive decorators for side effects</li>
<li><code>fynx.watch</code>: Conditional reactive functions</li>
</ul>
<p><a id="fynx.store.StoreSnapshot"></a></p>
<h2 id="storesnapshot-objects">StoreSnapshot Objects<a class="headerlink" href="#storesnapshot-objects" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">StoreSnapshot</span><span class="p">()</span>
</code></pre></div>
<p>Immutable snapshot of store observable values at a specific point in time.</p>
<p><a id="fynx.store.StoreSnapshot.__getattr__"></a></p>
<h4 id="__getattr__">__getattr__<a class="headerlink" href="#__getattr__" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="k">def</span><span class="w"> </span><span class="fm">__getattr__</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span>
</code></pre></div>
<p>Access snapshot values or fall back to class attributes.</p>
<p><a id="fynx.store.observable"></a></p>
<h4 id="observable">observable<a class="headerlink" href="#observable" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">observable</span><span class="p">(</span><span class="n">initial_value</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">T</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span>
</code></pre></div>
<p>Create an observable with an initial value, used as a descriptor in Store classes.</p>
<p><a id="fynx.store.StoreMeta"></a></p>
<h2 id="storemeta-objects">StoreMeta Objects<a class="headerlink" href="#storemeta-objects" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">StoreMeta</span><span class="p">(</span><span class="nb">type</span><span class="p">)</span>
</code></pre></div>
<p>Metaclass for Store to automatically convert observable attributes to descriptors
and adjust type hints for mypy compatibility.</p>
<p><a id="fynx.store.StoreMeta.__setattr__"></a></p>
<h4 id="__setattr__">__setattr__<a class="headerlink" href="#__setattr__" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a><span class="k">def</span><span class="w"> </span><span class="fm">__setattr__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>
<p>Intercept class attribute assignment for observables.</p>
<p><a id="fynx.store.Store"></a></p>
<h2 id="store-objects">Store Objects<a class="headerlink" href="#store-objects" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">Store</span><span class="p">(</span><span class="n">metaclass</span><span class="o">=</span><span class="n">StoreMeta</span><span class="p">)</span>
</code></pre></div>
<p>Base class for reactive state containers with observable attributes.</p>
<p>Store provides a convenient way to group related observable values together
and manage their lifecycle as a cohesive unit. Store subclasses can define
observable attributes using the <code>observable()</code> descriptor, and Store provides
methods for subscribing to changes, serializing state, and managing the
reactive relationships.</p>
<p>Key Features:
- Automatic observable attribute detection and management
- Convenient subscription methods for reacting to state changes
- Serialization/deserialization support for persistence
- Snapshot functionality for debugging and state inspection</p>
<p><strong>Example</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="err">```</span><span class="n">python</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">fynx</span><span class="w"> </span><span class="kn">import</span> <span class="n">Store</span><span class="p">,</span> <span class="n">observable</span>

<span class="k">class</span><span class="w"> </span><span class="nc">CounterStore</span><span class="p">(</span><span class="n">Store</span><span class="p">):</span>
    <span class="n">count</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="s2">&quot;Counter&quot;</span><span class="p">)</span>

<span class="c1"># Subscribe to all changes</span>
<span class="nd">@CounterStore</span><span class="o">.</span><span class="n">subscribe</span>
<span class="k">def</span><span class="w"> </span><span class="nf">on_change</span><span class="p">(</span><span class="n">snapshot</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Counter: </span><span class="si">{</span><span class="n">snapshot</span><span class="o">.</span><span class="n">count</span><span class="si">}</span><span class="s2">, Name: </span><span class="si">{</span><span class="n">snapshot</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Changes trigger reactions</span>
<span class="n">CounterStore</span><span class="o">.</span><span class="n">count</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># Prints: Counter: 5, Name: Counter</span>
<span class="n">CounterStore</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;My Counter&quot;</span>  <span class="c1"># Prints: Counter: 5, Name: My Counter</span>
<span class="err">```</span>
</code></pre></div>

<p><strong>Notes</strong>:</p>
<p>Store uses a metaclass to intercept attribute assignment, allowing
  <code>Store.attr = value</code> syntax to work seamlessly with observables.</p>
<p><a id="fynx.store.Store.to_dict"></a></p>
<h4 id="to_dict">to_dict<a class="headerlink" href="#to_dict" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a><span class="nd">@classmethod</span>
<a id="__codelineno-64-2" name="__codelineno-64-2" href="#__codelineno-64-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">to_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">SessionValue</span><span class="p">]</span>
</code></pre></div>
<p>Serialize all observable values to a dictionary.</p>
<p><a id="fynx.store.Store.load_state"></a></p>
<h4 id="load_state">load_state<a class="headerlink" href="#load_state" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a><span class="nd">@classmethod</span>
<a id="__codelineno-65-2" name="__codelineno-65-2" href="#__codelineno-65-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">load_state</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">state_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">SessionValue</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>
<p>Load state from a dictionary into the store's observables.</p>
<p><a id="fynx.store.Store.subscribe"></a></p>
<h4 id="subscribe">subscribe<a class="headerlink" href="#subscribe" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a><span class="nd">@classmethod</span>
<a id="__codelineno-66-2" name="__codelineno-66-2" href="#__codelineno-66-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">subscribe</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">StoreSnapshot</span><span class="p">],</span> <span class="kc">None</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>
<p>Subscribe a function to react to all observable changes.</p>
<p><a id="fynx.store.Store.unsubscribe"></a></p>
<h4 id="unsubscribe">unsubscribe<a class="headerlink" href="#unsubscribe" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a><span class="nd">@classmethod</span>
<a id="__codelineno-67-2" name="__codelineno-67-2" href="#__codelineno-67-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">unsubscribe</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>
<p>Unsubscribe a function from all observables.</p>
<p><a id="fynx.watch"></a></p>
<h1 id="fynxwatch">fynx.watch<a class="headerlink" href="#fynxwatch" title="Permanent link">&para;</a></h1>
<h1 id="fynx-watch-conditional-reactive-utilities">FynX Watch - Conditional Reactive Utilities<a class="headerlink" href="#fynx-watch-conditional-reactive-utilities" title="Permanent link">&para;</a></h1>
<p>This module provides the <code>watch</code> decorator for creating conditional reactive
computations that only execute when specific conditions are met. Unlike <code>@reactive</code>
decorators that run on every change, <code>@watch</code> decorators only trigger when ALL
specified conditions transition from unmet to met.</p>
<h2 id="when-to-use-watch-vs-reactive">When to Use Watch vs Reactive<a class="headerlink" href="#when-to-use-watch-vs-reactive" title="Permanent link">&para;</a></h2>
<p><strong>Use <code>@watch</code> when you need:</strong>
- Functions that should only run when specific prerequisites are satisfied
- State machines that react differently based on application state
- Event filtering to avoid unnecessary operations when conditions aren't right
- Resource optimization by avoiding computations when not needed</p>
<p><strong>Use <code>@reactive</code> when you need:</strong>
- Functions that should run on every change to their dependencies
- Unconditional side effects like logging or UI updates
- Immediate responses to any state change</p>
<h2 id="key-characteristics_2">Key Characteristics<a class="headerlink" href="#key-characteristics_2" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Conditional Execution</strong>: Only runs when ALL conditions become true after being false</li>
<li><strong>Transition Detection</strong>: Triggers on false→true transitions, not ongoing true states</li>
<li><strong>Automatic Discovery</strong>: Framework finds observables accessed in condition functions</li>
<li><strong>Multiple Conditions</strong>: Supports AND logic across multiple conditions</li>
<li><strong>Error Resilience</strong>: Gracefully handles condition evaluation failures</li>
</ul>
<h2 id="basic-usage_3">Basic Usage<a class="headerlink" href="#basic-usage_3" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">fynx</span><span class="w"> </span><span class="kn">import</span> <span class="n">observable</span><span class="p">,</span> <span class="n">watch</span>
<a id="__codelineno-68-2" name="__codelineno-68-2" href="#__codelineno-68-2"></a>
<a id="__codelineno-68-3" name="__codelineno-68-3" href="#__codelineno-68-3"></a><span class="c1"># Setup state</span>
<a id="__codelineno-68-4" name="__codelineno-68-4" href="#__codelineno-68-4"></a><span class="n">user_online</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-68-5" name="__codelineno-68-5" href="#__codelineno-68-5"></a><span class="n">has_messages</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-68-6" name="__codelineno-68-6" href="#__codelineno-68-6"></a><span class="n">notification_enabled</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-68-7" name="__codelineno-68-7" href="#__codelineno-68-7"></a>
<a id="__codelineno-68-8" name="__codelineno-68-8" href="#__codelineno-68-8"></a><span class="nd">@watch</span><span class="p">(</span>
<a id="__codelineno-68-9" name="__codelineno-68-9" href="#__codelineno-68-9"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="n">user_online</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>           <span class="c1"># User must be online</span>
<a id="__codelineno-68-10" name="__codelineno-68-10" href="#__codelineno-68-10"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="n">has_messages</span><span class="o">.</span><span class="n">value</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span>      <span class="c1"># Must have messages</span>
<a id="__codelineno-68-11" name="__codelineno-68-11" href="#__codelineno-68-11"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="n">notification_enabled</span><span class="o">.</span><span class="n">value</span>   <span class="c1"># Notifications must be enabled</span>
<a id="__codelineno-68-12" name="__codelineno-68-12" href="#__codelineno-68-12"></a><span class="p">)</span>
<a id="__codelineno-68-13" name="__codelineno-68-13" href="#__codelineno-68-13"></a><span class="k">def</span><span class="w"> </span><span class="nf">send_notification</span><span class="p">():</span>
<a id="__codelineno-68-14" name="__codelineno-68-14" href="#__codelineno-68-14"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;📬 Sending </span><span class="si">{</span><span class="n">has_messages</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2"> messages to user!&quot;</span><span class="p">)</span>
<a id="__codelineno-68-15" name="__codelineno-68-15" href="#__codelineno-68-15"></a>
<a id="__codelineno-68-16" name="__codelineno-68-16" href="#__codelineno-68-16"></a><span class="c1"># Only triggers when ALL conditions become true</span>
<a id="__codelineno-68-17" name="__codelineno-68-17" href="#__codelineno-68-17"></a><span class="n">user_online</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>        <span class="c1"># Not yet (no messages)</span>
<a id="__codelineno-68-18" name="__codelineno-68-18" href="#__codelineno-68-18"></a><span class="n">has_messages</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>          <span class="c1"># Not yet (notifications disabled)</span>
<a id="__codelineno-68-19" name="__codelineno-68-19" href="#__codelineno-68-19"></a><span class="n">notification_enabled</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Now triggers: &quot;📬 Sending 3 messages to user!&quot;</span>
<a id="__codelineno-68-20" name="__codelineno-68-20" href="#__codelineno-68-20"></a>
<a id="__codelineno-68-21" name="__codelineno-68-21" href="#__codelineno-68-21"></a><span class="n">has_messages</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>          <span class="c1"># Triggers again: &quot;📬 Sending 5 messages to user!&quot;</span>
<a id="__codelineno-68-22" name="__codelineno-68-22" href="#__codelineno-68-22"></a><span class="n">user_online</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>       <span class="c1"># Stop triggering</span>
<a id="__codelineno-68-23" name="__codelineno-68-23" href="#__codelineno-68-23"></a><span class="n">has_messages</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>         <span class="c1"># No trigger (user offline)</span>
</code></pre></div>
<h2 id="advanced-patterns_2">Advanced Patterns<a class="headerlink" href="#advanced-patterns_2" title="Permanent link">&para;</a></h2>
<h3 id="complex-conditions">Complex Conditions<a class="headerlink" href="#complex-conditions" title="Permanent link">&para;</a></h3>
<p>Conditions can be arbitrarily complex expressions:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a><span class="n">temperature</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<a id="__codelineno-69-2" name="__codelineno-69-2" href="#__codelineno-69-2"></a><span class="n">humidity</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<a id="__codelineno-69-3" name="__codelineno-69-3" href="#__codelineno-69-3"></a><span class="n">ac_enabled</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-69-4" name="__codelineno-69-4" href="#__codelineno-69-4"></a>
<a id="__codelineno-69-5" name="__codelineno-69-5" href="#__codelineno-69-5"></a><span class="nd">@watch</span><span class="p">(</span>
<a id="__codelineno-69-6" name="__codelineno-69-6" href="#__codelineno-69-6"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="n">temperature</span><span class="o">.</span><span class="n">value</span> <span class="o">&gt;</span> <span class="mi">25</span><span class="p">,</span>              <span class="c1"># Hot enough</span>
<a id="__codelineno-69-7" name="__codelineno-69-7" href="#__codelineno-69-7"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="n">humidity</span><span class="o">.</span><span class="n">value</span> <span class="o">&lt;</span> <span class="mi">60</span><span class="p">,</span>                 <span class="c1"># Not too humid</span>
<a id="__codelineno-69-8" name="__codelineno-69-8" href="#__codelineno-69-8"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="n">ac_enabled</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>                    <span class="c1"># AC is enabled</span>
<a id="__codelineno-69-9" name="__codelineno-69-9" href="#__codelineno-69-9"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="n">temperature</span><span class="o">.</span><span class="n">value</span> <span class="o">&lt;</span> <span class="mi">30</span> <span class="ow">or</span> <span class="n">humidity</span><span class="o">.</span><span class="n">value</span> <span class="o">&lt;</span> <span class="mi">40</span>  <span class="c1"># Either very hot OR very dry</span>
<a id="__codelineno-69-10" name="__codelineno-69-10" href="#__codelineno-69-10"></a><span class="p">)</span>
<a id="__codelineno-69-11" name="__codelineno-69-11" href="#__codelineno-69-11"></a><span class="k">def</span><span class="w"> </span><span class="nf">activate_cooling</span><span class="p">():</span>
<a id="__codelineno-69-12" name="__codelineno-69-12" href="#__codelineno-69-12"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;🌡️ Activating air conditioning!&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="state-machines">State Machines<a class="headerlink" href="#state-machines" title="Permanent link">&para;</a></h3>
<p>Use watch decorators to implement state machine transitions:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-70-1" name="__codelineno-70-1" href="#__codelineno-70-1"></a><span class="n">app_state</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="s2">&quot;loading&quot;</span><span class="p">)</span>
<a id="__codelineno-70-2" name="__codelineno-70-2" href="#__codelineno-70-2"></a><span class="n">user_authenticated</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-70-3" name="__codelineno-70-3" href="#__codelineno-70-3"></a><span class="n">data_loaded</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-70-4" name="__codelineno-70-4" href="#__codelineno-70-4"></a>
<a id="__codelineno-70-5" name="__codelineno-70-5" href="#__codelineno-70-5"></a><span class="nd">@watch</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">app_state</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;loading&quot;</span><span class="p">)</span>
<a id="__codelineno-70-6" name="__codelineno-70-6" href="#__codelineno-70-6"></a><span class="k">def</span><span class="w"> </span><span class="nf">show_loading_screen</span><span class="p">():</span>
<a id="__codelineno-70-7" name="__codelineno-70-7" href="#__codelineno-70-7"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;⏳ Showing loading screen...&quot;</span><span class="p">)</span>
<a id="__codelineno-70-8" name="__codelineno-70-8" href="#__codelineno-70-8"></a>
<a id="__codelineno-70-9" name="__codelineno-70-9" href="#__codelineno-70-9"></a><span class="nd">@watch</span><span class="p">(</span>
<a id="__codelineno-70-10" name="__codelineno-70-10" href="#__codelineno-70-10"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="n">user_authenticated</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
<a id="__codelineno-70-11" name="__codelineno-70-11" href="#__codelineno-70-11"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="n">data_loaded</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
<a id="__codelineno-70-12" name="__codelineno-70-12" href="#__codelineno-70-12"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="n">app_state</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;ready&quot;</span>
<a id="__codelineno-70-13" name="__codelineno-70-13" href="#__codelineno-70-13"></a><span class="p">)</span>
<a id="__codelineno-70-14" name="__codelineno-70-14" href="#__codelineno-70-14"></a><span class="k">def</span><span class="w"> </span><span class="nf">show_main_app</span><span class="p">():</span>
<a id="__codelineno-70-15" name="__codelineno-70-15" href="#__codelineno-70-15"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;✅ Showing main application!&quot;</span><span class="p">)</span>
<a id="__codelineno-70-16" name="__codelineno-70-16" href="#__codelineno-70-16"></a>
<a id="__codelineno-70-17" name="__codelineno-70-17" href="#__codelineno-70-17"></a><span class="c1"># State transitions</span>
<a id="__codelineno-70-18" name="__codelineno-70-18" href="#__codelineno-70-18"></a><span class="n">app_state</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;authenticating&quot;</span><span class="p">)</span>
<a id="__codelineno-70-19" name="__codelineno-70-19" href="#__codelineno-70-19"></a><span class="n">user_authenticated</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-70-20" name="__codelineno-70-20" href="#__codelineno-70-20"></a><span class="n">app_state</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;loading_data&quot;</span><span class="p">)</span>
<a id="__codelineno-70-21" name="__codelineno-70-21" href="#__codelineno-70-21"></a><span class="n">data_loaded</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-70-22" name="__codelineno-70-22" href="#__codelineno-70-22"></a><span class="n">app_state</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;ready&quot;</span><span class="p">)</span>  <span class="c1"># Now triggers show_main_app()</span>
</code></pre></div>
<h3 id="resource-management">Resource Management<a class="headerlink" href="#resource-management" title="Permanent link">&para;</a></h3>
<p>Prevent unnecessary operations when resources aren't available:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-71-1" name="__codelineno-71-1" href="#__codelineno-71-1"></a><span class="n">network_available</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-71-2" name="__codelineno-71-2" href="#__codelineno-71-2"></a><span class="n">battery_level</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<a id="__codelineno-71-3" name="__codelineno-71-3" href="#__codelineno-71-3"></a><span class="n">data_fresh</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-71-4" name="__codelineno-71-4" href="#__codelineno-71-4"></a>
<a id="__codelineno-71-5" name="__codelineno-71-5" href="#__codelineno-71-5"></a><span class="nd">@watch</span><span class="p">(</span>
<a id="__codelineno-71-6" name="__codelineno-71-6" href="#__codelineno-71-6"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="n">network_available</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
<a id="__codelineno-71-7" name="__codelineno-71-7" href="#__codelineno-71-7"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="n">battery_level</span><span class="o">.</span><span class="n">value</span> <span class="o">&gt;</span> <span class="mi">20</span><span class="p">,</span>    <span class="c1"># Don&#39;t sync on low battery</span>
<a id="__codelineno-71-8" name="__codelineno-71-8" href="#__codelineno-71-8"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="ow">not</span> <span class="n">data_fresh</span><span class="o">.</span><span class="n">value</span>         <span class="c1"># Only sync when data is stale</span>
<a id="__codelineno-71-9" name="__codelineno-71-9" href="#__codelineno-71-9"></a><span class="p">)</span>
<a id="__codelineno-71-10" name="__codelineno-71-10" href="#__codelineno-71-10"></a><span class="k">def</span><span class="w"> </span><span class="nf">sync_data</span><span class="p">():</span>
<a id="__codelineno-71-11" name="__codelineno-71-11" href="#__codelineno-71-11"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;🔄 Syncing data...&quot;</span><span class="p">)</span>
<a id="__codelineno-71-12" name="__codelineno-71-12" href="#__codelineno-71-12"></a>    <span class="c1"># Perform expensive network operation</span>
<a id="__codelineno-71-13" name="__codelineno-71-13" href="#__codelineno-71-13"></a>    <span class="n">data_fresh</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-71-14" name="__codelineno-71-14" href="#__codelineno-71-14"></a>
<a id="__codelineno-71-15" name="__codelineno-71-15" href="#__codelineno-71-15"></a><span class="n">network_available</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-71-16" name="__codelineno-71-16" href="#__codelineno-71-16"></a><span class="n">battery_level</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<a id="__codelineno-71-17" name="__codelineno-71-17" href="#__codelineno-71-17"></a><span class="n">data_fresh</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>  <span class="c1"># No sync (battery too low)</span>
<a id="__codelineno-71-18" name="__codelineno-71-18" href="#__codelineno-71-18"></a>
<a id="__codelineno-71-19" name="__codelineno-71-19" href="#__codelineno-71-19"></a><span class="n">battery_level</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">80</span><span class="p">)</span>
<a id="__codelineno-71-20" name="__codelineno-71-20" href="#__codelineno-71-20"></a><span class="n">network_available</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Triggers sync</span>
</code></pre></div>
<h2 id="real-world-examples_1">Real-World Examples<a class="headerlink" href="#real-world-examples_1" title="Permanent link">&para;</a></h2>
<h3 id="user-authentication-flow">User Authentication Flow<a class="headerlink" href="#user-authentication-flow" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-72-1" name="__codelineno-72-1" href="#__codelineno-72-1"></a><span class="n">login_attempted</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-72-2" name="__codelineno-72-2" href="#__codelineno-72-2"></a><span class="n">credentials_valid</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-72-3" name="__codelineno-72-3" href="#__codelineno-72-3"></a><span class="n">two_factor_complete</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-72-4" name="__codelineno-72-4" href="#__codelineno-72-4"></a>
<a id="__codelineno-72-5" name="__codelineno-72-5" href="#__codelineno-72-5"></a><span class="nd">@watch</span><span class="p">(</span>
<a id="__codelineno-72-6" name="__codelineno-72-6" href="#__codelineno-72-6"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="n">login_attempted</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
<a id="__codelineno-72-7" name="__codelineno-72-7" href="#__codelineno-72-7"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="n">credentials_valid</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
<a id="__codelineno-72-8" name="__codelineno-72-8" href="#__codelineno-72-8"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="n">two_factor_complete</span><span class="o">.</span><span class="n">value</span>
<a id="__codelineno-72-9" name="__codelineno-72-9" href="#__codelineno-72-9"></a><span class="p">)</span>
<a id="__codelineno-72-10" name="__codelineno-72-10" href="#__codelineno-72-10"></a><span class="k">def</span><span class="w"> </span><span class="nf">grant_access</span><span class="p">():</span>
<a id="__codelineno-72-11" name="__codelineno-72-11" href="#__codelineno-72-11"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;🔐 Access granted!&quot;</span><span class="p">)</span>
<a id="__codelineno-72-12" name="__codelineno-72-12" href="#__codelineno-72-12"></a>    <span class="c1"># Redirect to dashboard, set session, etc.</span>
<a id="__codelineno-72-13" name="__codelineno-72-13" href="#__codelineno-72-13"></a>
<a id="__codelineno-72-14" name="__codelineno-72-14" href="#__codelineno-72-14"></a><span class="c1"># Login flow</span>
<a id="__codelineno-72-15" name="__codelineno-72-15" href="#__codelineno-72-15"></a><span class="n">login_attempted</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-72-16" name="__codelineno-72-16" href="#__codelineno-72-16"></a><span class="n">credentials_valid</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-72-17" name="__codelineno-72-17" href="#__codelineno-72-17"></a><span class="n">two_factor_complete</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Access granted</span>
</code></pre></div>
<h3 id="shopping-cart-checkout">Shopping Cart Checkout<a class="headerlink" href="#shopping-cart-checkout" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-73-1" name="__codelineno-73-1" href="#__codelineno-73-1"></a><span class="n">cart_items</span> <span class="o">=</span> <span class="n">observable</span><span class="p">([])</span>
<a id="__codelineno-73-2" name="__codelineno-73-2" href="#__codelineno-73-2"></a><span class="n">payment_method</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-73-3" name="__codelineno-73-3" href="#__codelineno-73-3"></a><span class="n">terms_accepted</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-73-4" name="__codelineno-73-4" href="#__codelineno-73-4"></a>
<a id="__codelineno-73-5" name="__codelineno-73-5" href="#__codelineno-73-5"></a><span class="nd">@watch</span><span class="p">(</span>
<a id="__codelineno-73-6" name="__codelineno-73-6" href="#__codelineno-73-6"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">cart_items</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-73-7" name="__codelineno-73-7" href="#__codelineno-73-7"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="n">payment_method</span><span class="o">.</span><span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-73-8" name="__codelineno-73-8" href="#__codelineno-73-8"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="n">terms_accepted</span><span class="o">.</span><span class="n">value</span>
<a id="__codelineno-73-9" name="__codelineno-73-9" href="#__codelineno-73-9"></a><span class="p">)</span>
<a id="__codelineno-73-10" name="__codelineno-73-10" href="#__codelineno-73-10"></a><span class="k">def</span><span class="w"> </span><span class="nf">enable_checkout</span><span class="p">():</span>
<a id="__codelineno-73-11" name="__codelineno-73-11" href="#__codelineno-73-11"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;💳 Checkout button enabled!&quot;</span><span class="p">)</span>
<a id="__codelineno-73-12" name="__codelineno-73-12" href="#__codelineno-73-12"></a>
<a id="__codelineno-73-13" name="__codelineno-73-13" href="#__codelineno-73-13"></a><span class="n">cart_items</span><span class="o">.</span><span class="n">set</span><span class="p">([{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Widget&quot;</span><span class="p">,</span> <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">}])</span>
<a id="__codelineno-73-14" name="__codelineno-73-14" href="#__codelineno-73-14"></a><span class="n">payment_method</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;credit_card&quot;</span><span class="p">)</span>
<a id="__codelineno-73-15" name="__codelineno-73-15" href="#__codelineno-73-15"></a><span class="n">terms_accepted</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Checkout now enabled</span>
</code></pre></div>
<h3 id="background-task-management">Background Task Management<a class="headerlink" href="#background-task-management" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-74-1" name="__codelineno-74-1" href="#__codelineno-74-1"></a><span class="n">task_queue</span> <span class="o">=</span> <span class="n">observable</span><span class="p">([])</span>
<a id="__codelineno-74-2" name="__codelineno-74-2" href="#__codelineno-74-2"></a><span class="n">is_online</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-74-3" name="__codelineno-74-3" href="#__codelineno-74-3"></a><span class="n">battery_saving</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-74-4" name="__codelineno-74-4" href="#__codelineno-74-4"></a>
<a id="__codelineno-74-5" name="__codelineno-74-5" href="#__codelineno-74-5"></a><span class="nd">@watch</span><span class="p">(</span>
<a id="__codelineno-74-6" name="__codelineno-74-6" href="#__codelineno-74-6"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">task_queue</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-74-7" name="__codelineno-74-7" href="#__codelineno-74-7"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="n">is_online</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
<a id="__codelineno-74-8" name="__codelineno-74-8" href="#__codelineno-74-8"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="ow">not</span> <span class="n">battery_saving</span><span class="o">.</span><span class="n">value</span>  <span class="c1"># Don&#39;t run background tasks in battery saving mode</span>
<a id="__codelineno-74-9" name="__codelineno-74-9" href="#__codelineno-74-9"></a><span class="p">)</span>
<a id="__codelineno-74-10" name="__codelineno-74-10" href="#__codelineno-74-10"></a><span class="k">def</span><span class="w"> </span><span class="nf">process_background_tasks</span><span class="p">():</span>
<a id="__codelineno-74-11" name="__codelineno-74-11" href="#__codelineno-74-11"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔄 Processing </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">task_queue</span><span class="o">.</span><span class="n">value</span><span class="p">)</span><span class="si">}</span><span class="s2"> background tasks...&quot;</span><span class="p">)</span>
<a id="__codelineno-74-12" name="__codelineno-74-12" href="#__codelineno-74-12"></a>
<a id="__codelineno-74-13" name="__codelineno-74-13" href="#__codelineno-74-13"></a><span class="n">task_queue</span><span class="o">.</span><span class="n">set</span><span class="p">([</span><span class="s2">&quot;sync&quot;</span><span class="p">,</span> <span class="s2">&quot;backup&quot;</span><span class="p">,</span> <span class="s2">&quot;cleanup&quot;</span><span class="p">])</span>
<a id="__codelineno-74-14" name="__codelineno-74-14" href="#__codelineno-74-14"></a><span class="n">battery_saving</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>     <span class="c1"># No processing (battery saving)</span>
<a id="__codelineno-74-15" name="__codelineno-74-15" href="#__codelineno-74-15"></a><span class="n">battery_saving</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>    <span class="c1"># Now triggers processing</span>
</code></pre></div>
<h2 id="performance-considerations_3">Performance Considerations<a class="headerlink" href="#performance-considerations_3" title="Permanent link">&para;</a></h2>
<p><strong>Efficient Evaluation</strong>: Conditions are only re-evaluated when their dependencies change</p>
<p><strong>Dependency Tracking</strong>: Only tracks observables actually accessed in conditions</p>
<p><strong>Transition Optimization</strong>: Only triggers on condition state changes, not every update</p>
<p><strong>Memory Management</strong>: Automatic cleanup when watch decorators are no longer needed</p>
<h2 id="best-practices_3">Best Practices<a class="headerlink" href="#best-practices_3" title="Permanent link">&para;</a></h2>
<h3 id="keep-conditions-simple">Keep Conditions Simple<a class="headerlink" href="#keep-conditions-simple" title="Permanent link">&para;</a></h3>
<p>Break complex conditions into simpler, more focused ones:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-75-1" name="__codelineno-75-1" href="#__codelineno-75-1"></a><span class="c1"># Good: Simple, focused conditions</span>
<a id="__codelineno-75-2" name="__codelineno-75-2" href="#__codelineno-75-2"></a><span class="nd">@watch</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">user</span><span class="o">.</span><span class="n">is_authenticated</span><span class="p">)</span>
<a id="__codelineno-75-3" name="__codelineno-75-3" href="#__codelineno-75-3"></a><span class="k">def</span><span class="w"> </span><span class="nf">load_user_data</span><span class="p">():</span>
<a id="__codelineno-75-4" name="__codelineno-75-4" href="#__codelineno-75-4"></a>    <span class="k">pass</span>
<a id="__codelineno-75-5" name="__codelineno-75-5" href="#__codelineno-75-5"></a>
<a id="__codelineno-75-6" name="__codelineno-75-6" href="#__codelineno-75-6"></a><span class="nd">@watch</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">user</span><span class="o">.</span><span class="n">has_premium_plan</span><span class="p">)</span>
<a id="__codelineno-75-7" name="__codelineno-75-7" href="#__codelineno-75-7"></a><span class="k">def</span><span class="w"> </span><span class="nf">enable_premium_features</span><span class="p">():</span>
<a id="__codelineno-75-8" name="__codelineno-75-8" href="#__codelineno-75-8"></a>    <span class="k">pass</span>
<a id="__codelineno-75-9" name="__codelineno-75-9" href="#__codelineno-75-9"></a>
<a id="__codelineno-75-10" name="__codelineno-75-10" href="#__codelineno-75-10"></a><span class="c1"># Avoid: Complex condition logic</span>
<a id="__codelineno-75-11" name="__codelineno-75-11" href="#__codelineno-75-11"></a><span class="nd">@watch</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">user</span><span class="o">.</span><span class="n">is_authenticated</span> <span class="ow">and</span> <span class="n">user</span><span class="o">.</span><span class="n">has_premium_plan</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">user</span><span class="o">.</span><span class="n">is_banned</span><span class="p">)</span>
<a id="__codelineno-75-12" name="__codelineno-75-12" href="#__codelineno-75-12"></a><span class="k">def</span><span class="w"> </span><span class="nf">handle_premium_user</span><span class="p">():</span>
<a id="__codelineno-75-13" name="__codelineno-75-13" href="#__codelineno-75-13"></a>    <span class="k">pass</span>
</code></pre></div>
<h3 id="use-descriptive-condition-names">Use Descriptive Condition Names<a class="headerlink" href="#use-descriptive-condition-names" title="Permanent link">&para;</a></h3>
<p>Make conditions self-documenting:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-76-1" name="__codelineno-76-1" href="#__codelineno-76-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">user_is_eligible</span><span class="p">():</span>
<a id="__codelineno-76-2" name="__codelineno-76-2" href="#__codelineno-76-2"></a>    <span class="k">return</span> <span class="n">user</span><span class="o">.</span><span class="n">age</span> <span class="o">&gt;=</span> <span class="mi">18</span> <span class="ow">and</span> <span class="n">user</span><span class="o">.</span><span class="n">country</span> <span class="ow">in</span> <span class="n">ALLOWED_COUNTRIES</span>
<a id="__codelineno-76-3" name="__codelineno-76-3" href="#__codelineno-76-3"></a>
<a id="__codelineno-76-4" name="__codelineno-76-4" href="#__codelineno-76-4"></a><span class="k">def</span><span class="w"> </span><span class="nf">payment_is_complete</span><span class="p">():</span>
<a id="__codelineno-76-5" name="__codelineno-76-5" href="#__codelineno-76-5"></a>    <span class="k">return</span> <span class="n">payment</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s2">&quot;completed&quot;</span> <span class="ow">and</span> <span class="n">payment</span><span class="o">.</span><span class="n">amount</span> <span class="o">&gt;</span> <span class="mi">0</span>
<a id="__codelineno-76-6" name="__codelineno-76-6" href="#__codelineno-76-6"></a>
<a id="__codelineno-76-7" name="__codelineno-76-7" href="#__codelineno-76-7"></a><span class="nd">@watch</span><span class="p">(</span><span class="n">user_is_eligible</span><span class="p">,</span> <span class="n">payment_is_complete</span><span class="p">)</span>
<a id="__codelineno-76-8" name="__codelineno-76-8" href="#__codelineno-76-8"></a><span class="k">def</span><span class="w"> </span><span class="nf">process_purchase</span><span class="p">():</span>
<a id="__codelineno-76-9" name="__codelineno-76-9" href="#__codelineno-76-9"></a>    <span class="k">pass</span>
</code></pre></div>
<h3 id="handle-errors-gracefully_1">Handle Errors Gracefully<a class="headerlink" href="#handle-errors-gracefully_1" title="Permanent link">&para;</a></h3>
<p>Conditions that fail during evaluation are treated as False:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-77-1" name="__codelineno-77-1" href="#__codelineno-77-1"></a><span class="nd">@watch</span><span class="p">(</span>
<a id="__codelineno-77-2" name="__codelineno-77-2" href="#__codelineno-77-2"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="n">user</span><span class="o">.</span><span class="n">preferences</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span>  <span class="c1"># Safe null check</span>
<a id="__codelineno-77-3" name="__codelineno-77-3" href="#__codelineno-77-3"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="n">user</span><span class="o">.</span><span class="n">preferences</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;notifications&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>  <span class="c1"># Safe dict access</span>
<a id="__codelineno-77-4" name="__codelineno-77-4" href="#__codelineno-77-4"></a><span class="p">)</span>
<a id="__codelineno-77-5" name="__codelineno-77-5" href="#__codelineno-77-5"></a><span class="k">def</span><span class="w"> </span><span class="nf">send_notification</span><span class="p">():</span>
<a id="__codelineno-77-6" name="__codelineno-77-6" href="#__codelineno-77-6"></a>    <span class="k">pass</span>
</code></pre></div>
<h2 id="common-patterns_4">Common Patterns<a class="headerlink" href="#common-patterns_4" title="Permanent link">&para;</a></h2>
<p><strong>Feature Flags</strong>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-78-1" name="__codelineno-78-1" href="#__codelineno-78-1"></a><span class="n">feature_enabled</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-78-2" name="__codelineno-78-2" href="#__codelineno-78-2"></a><span class="n">user_has_access</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-78-3" name="__codelineno-78-3" href="#__codelineno-78-3"></a>
<a id="__codelineno-78-4" name="__codelineno-78-4" href="#__codelineno-78-4"></a><span class="nd">@watch</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">feature_enabled</span><span class="o">.</span><span class="n">value</span> <span class="ow">and</span> <span class="n">user_has_access</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<a id="__codelineno-78-5" name="__codelineno-78-5" href="#__codelineno-78-5"></a><span class="k">def</span><span class="w"> </span><span class="nf">enable_new_feature</span><span class="p">():</span>
<a id="__codelineno-78-6" name="__codelineno-78-6" href="#__codelineno-78-6"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;✨ New feature enabled!&quot;</span><span class="p">)</span>
</code></pre></div></p>
<p><strong>Data Validation</strong>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-79-1" name="__codelineno-79-1" href="#__codelineno-79-1"></a><span class="n">email</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<a id="__codelineno-79-2" name="__codelineno-79-2" href="#__codelineno-79-2"></a><span class="n">password</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<a id="__codelineno-79-3" name="__codelineno-79-3" href="#__codelineno-79-3"></a>
<a id="__codelineno-79-4" name="__codelineno-79-4" href="#__codelineno-79-4"></a><span class="nd">@watch</span><span class="p">(</span>
<a id="__codelineno-79-5" name="__codelineno-79-5" href="#__codelineno-79-5"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="s2">&quot;@&quot;</span> <span class="ow">in</span> <span class="n">email</span><span class="o">.</span><span class="n">value</span> <span class="ow">and</span> <span class="s2">&quot;.&quot;</span> <span class="ow">in</span> <span class="n">email</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">],</span>
<a id="__codelineno-79-6" name="__codelineno-79-6" href="#__codelineno-79-6"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">password</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">8</span>
<a id="__codelineno-79-7" name="__codelineno-79-7" href="#__codelineno-79-7"></a><span class="p">)</span>
<a id="__codelineno-79-8" name="__codelineno-79-8" href="#__codelineno-79-8"></a><span class="k">def</span><span class="w"> </span><span class="nf">enable_submit_button</span><span class="p">():</span>
<a id="__codelineno-79-9" name="__codelineno-79-9" href="#__codelineno-79-9"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;✅ Submit button enabled&quot;</span><span class="p">)</span>
</code></pre></div></p>
<p><strong>Resource Availability</strong>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-80-1" name="__codelineno-80-1" href="#__codelineno-80-1"></a><span class="n">network_online</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-80-2" name="__codelineno-80-2" href="#__codelineno-80-2"></a><span class="n">disk_space</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<a id="__codelineno-80-3" name="__codelineno-80-3" href="#__codelineno-80-3"></a>
<a id="__codelineno-80-4" name="__codelineno-80-4" href="#__codelineno-80-4"></a><span class="nd">@watch</span><span class="p">(</span>
<a id="__codelineno-80-5" name="__codelineno-80-5" href="#__codelineno-80-5"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="n">network_online</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
<a id="__codelineno-80-6" name="__codelineno-80-6" href="#__codelineno-80-6"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="n">disk_space</span><span class="o">.</span><span class="n">value</span> <span class="o">&gt;</span> <span class="mi">10</span>  <span class="c1"># GB</span>
<a id="__codelineno-80-7" name="__codelineno-80-7" href="#__codelineno-80-7"></a><span class="p">)</span>
<a id="__codelineno-80-8" name="__codelineno-80-8" href="#__codelineno-80-8"></a><span class="k">def</span><span class="w"> </span><span class="nf">start_download</span><span class="p">():</span>
<a id="__codelineno-80-9" name="__codelineno-80-9" href="#__codelineno-80-9"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;📥 Starting download...&quot;</span><span class="p">)</span>
</code></pre></div></p>
<h2 id="limitations_2">Limitations<a class="headerlink" href="#limitations_2" title="Permanent link">&para;</a></h2>
<ul>
<li>Conditions must be synchronous (no async/await)</li>
<li>Only triggers on false→true transitions (not during sustained true states)</li>
<li>Cannot create circular dependencies with watched observables</li>
<li>Condition evaluation failures are treated as False</li>
</ul>
<h2 id="troubleshooting_2">Troubleshooting<a class="headerlink" href="#troubleshooting_2" title="Permanent link">&para;</a></h2>
<p><strong>Watch function not triggering</strong>: Ensure all observables accessed in conditions are properly tracked</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-81-1" name="__codelineno-81-1" href="#__codelineno-81-1"></a><span class="c1"># Wrong: External observable not tracked</span>
<a id="__codelineno-81-2" name="__codelineno-81-2" href="#__codelineno-81-2"></a><span class="n">external_flag</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-81-3" name="__codelineno-81-3" href="#__codelineno-81-3"></a><span class="nd">@watch</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">some_obs</span><span class="o">.</span><span class="n">value</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-81-4" name="__codelineno-81-4" href="#__codelineno-81-4"></a><span class="k">def</span><span class="w"> </span><span class="nf">wrong_func</span><span class="p">():</span>
<a id="__codelineno-81-5" name="__codelineno-81-5" href="#__codelineno-81-5"></a>    <span class="k">if</span> <span class="n">external_flag</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>  <span class="c1"># Not tracked!</span>
<a id="__codelineno-81-6" name="__codelineno-81-6" href="#__codelineno-81-6"></a>        <span class="k">pass</span>
<a id="__codelineno-81-7" name="__codelineno-81-7" href="#__codelineno-81-7"></a>
<a id="__codelineno-81-8" name="__codelineno-81-8" href="#__codelineno-81-8"></a><span class="c1"># Right: Include all dependencies in conditions</span>
<a id="__codelineno-81-9" name="__codelineno-81-9" href="#__codelineno-81-9"></a><span class="nd">@watch</span><span class="p">(</span>
<a id="__codelineno-81-10" name="__codelineno-81-10" href="#__codelineno-81-10"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="n">some_obs</span><span class="o">.</span><span class="n">value</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-81-11" name="__codelineno-81-11" href="#__codelineno-81-11"></a>    <span class="k">lambda</span><span class="p">:</span> <span class="n">external_flag</span><span class="o">.</span><span class="n">value</span>
<a id="__codelineno-81-12" name="__codelineno-81-12" href="#__codelineno-81-12"></a><span class="p">)</span>
<a id="__codelineno-81-13" name="__codelineno-81-13" href="#__codelineno-81-13"></a><span class="k">def</span><span class="w"> </span><span class="nf">right_func</span><span class="p">():</span>
<a id="__codelineno-81-14" name="__codelineno-81-14" href="#__codelineno-81-14"></a>    <span class="k">pass</span>
</code></pre></div>
<p><strong>Unexpected triggering</strong>: Remember watch only triggers on transitions, not sustained states</p>
<p><strong>Performance issues</strong>: Simplify complex conditions or break them into multiple watches</p>
<h2 id="comparison-with-reactive">Comparison with Reactive<a class="headerlink" href="#comparison-with-reactive" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Feature</th>
<th>@reactive</th>
<th>@watch</th>
</tr>
</thead>
<tbody>
<tr>
<td>Execution</td>
<td>Every change</td>
<td>Condition transitions only</td>
</tr>
<tr>
<td>Use case</td>
<td>Side effects</td>
<td>Conditional logic</td>
</tr>
<tr>
<td>Granularity</td>
<td>Fine-grained</td>
<td>Coarse-grained</td>
</tr>
<tr>
<td>Performance</td>
<td>Higher overhead</td>
<td>Lower overhead</td>
</tr>
<tr>
<td>Complexity</td>
<td>Simple</td>
<td>More complex</td>
</tr>
</tbody>
</table>
<h2 id="see-also_4">See Also<a class="headerlink" href="#see-also_4" title="Permanent link">&para;</a></h2>
<ul>
<li><code>fynx.reactive</code>: Unconditional reactive functions</li>
<li><code>fynx.computed</code>: Derived reactive values</li>
<li><code>fynx.store</code>: Reactive state containers</li>
<li><code>fynx.observable</code>: Core observable classes</li>
</ul>
<p><a id="fynx.watch.watch"></a></p>
<h4 id="watch">watch<a class="headerlink" href="#watch" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-82-1" name="__codelineno-82-1" href="#__codelineno-82-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">watch</span><span class="p">(</span><span class="o">*</span><span class="n">conditions</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span>
</code></pre></div>
<p>Decorator for conditional reactive functions that run only when conditions are met.</p>
<p>The <code>watch</code> decorator creates a reactive function that only executes when ALL
specified conditions become true, after previously being false. This enables
guarded reactions that wait for specific state combinations before triggering.</p>
<p>The decorator automatically discovers which observables are accessed within the
condition functions and sets up the appropriate subscriptions. When any of these
observables change, the conditions are re-evaluated, and the decorated function
runs only if this represents a transition from "not all conditions met" to
"all conditions met".</p>
<p><strong>Arguments</strong>:</p>
<ul>
<li><code>*conditions</code> - Variable number of condition functions. Each condition should be
  a callable that returns a boolean value. Condition functions can
  access observable values via <code>.value</code> attribute. All conditions
  must return <code>True</code> for the decorated function to execute.</li>
</ul>
<p><strong>Returns</strong>:</p>
<p>A decorator function that can be applied to reactive functions.</p>
<p><strong>Examples</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="err">```</span><span class="n">python</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">fynx</span><span class="w"> </span><span class="kn">import</span> <span class="n">observable</span><span class="p">,</span> <span class="n">watch</span>

<span class="c1"># Basic conditional reaction</span>
<span class="n">user_logged_in</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">data_loaded</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

<span class="nd">@watch</span><span class="p">(</span>
    <span class="k">lambda</span><span class="p">:</span> <span class="n">user_logged_in</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
    <span class="k">lambda</span><span class="p">:</span> <span class="n">data_loaded</span><span class="o">.</span><span class="n">value</span>
<span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">show_dashboard</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Welcome to your dashboard!&quot;</span><span class="p">)</span>

<span class="c1"># Only shows when both conditions are true</span>
<span class="n">user_logged_in</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Not yet (data not loaded)</span>
<span class="n">data_loaded</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>     <span class="c1"># Now shows dashboard!</span>

<span class="c1"># State-based reactions</span>
<span class="n">app_state</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="s2">&quot;loading&quot;</span><span class="p">)</span>
<span class="n">error_count</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="nd">@watch</span><span class="p">(</span>
    <span class="k">lambda</span><span class="p">:</span> <span class="n">app_state</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;error&quot;</span><span class="p">,</span>
    <span class="k">lambda</span><span class="p">:</span> <span class="n">error_count</span><span class="o">.</span><span class="n">value</span> <span class="o">&gt;=</span> <span class="mi">3</span>
<span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">show_error_recovery</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Too many errors - showing recovery options&quot;</span><span class="p">)</span>

<span class="c1"># Advanced conditions with computations</span>
<span class="n">temperature</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="n">humidity</span> <span class="o">=</span> <span class="n">observable</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>

<span class="nd">@watch</span><span class="p">(</span>
    <span class="k">lambda</span><span class="p">:</span> <span class="n">temperature</span><span class="o">.</span><span class="n">value</span> <span class="o">&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="k">lambda</span><span class="p">:</span> <span class="n">humidity</span><span class="o">.</span><span class="n">value</span> <span class="o">&lt;</span> <span class="mi">30</span>
<span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">activate_cooling</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hot and dry - activating cooling system!&quot;</span><span class="p">)</span>

<span class="c1"># Conditions can be complex expressions</span>
<span class="nd">@watch</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">temperature</span><span class="o">.</span><span class="n">value</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">temperature</span><span class="o">.</span><span class="n">value</span> <span class="o">&gt;</span> <span class="mi">40</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">extreme_temperature_alert</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Extreme temperature detected!&quot;</span><span class="p">)</span>
<span class="err">```</span>
</code></pre></div>

<p><strong>Notes</strong>:</p>
<ul>
<li>Condition functions should be pure and relatively fast</li>
<li>The decorated function only runs on the transition from conditions not being
  met to conditions being met (not on every change while conditions remain true)</li>
<li>If condition evaluation fails during discovery or runtime, it's treated as False</li>
<li>Observables accessed in conditions are automatically tracked as dependencies</li>
</ul>
<p><strong>See Also</strong>:</p>
<ul>
<li><code>reactive</code> - For unconditional reactive functions</li>
<li><code>computed</code> - For derived reactive values</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2024 Cassidy Bridges |
<a href="#__consent">Change cookie settings</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/off-by-some/fynx" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://pypi.org/project/fynx/" target="_blank" rel="noopener" title="pypi.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 444.7a20.4 20.4 0 1 1 0-40.7 20.4 20.4 0 1 1 0 40.7M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.6-183.4a20.4 20.4 0 1 1 0 40.8 20.4 20.4 0 1 1 0-40.8"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.code.select", "navigation.instant", "navigation.tracking", "search.highlight", "search.share", "search.suggest"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>